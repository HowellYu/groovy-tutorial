<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>16. Ranges</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div id="leanpub-toc">
<h2></h2>
<ol class="toc has-parts">
<ul class='toc has-parts'>
  <li>
    <ul>
      <li>
        <a href='chap00.html#leanpub-auto-introduction'>Introduction</a>
      </li>
      <li>
        <a href='chap01.html#leanpub-auto-legal-notices'>Legal Notices</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-getting-started'><span class="section-number">I </span>Getting started</a>
    <ul>
      <li>
        <a href='chap03.html#leanpub-auto-installing-groovy'><span class="section-number">1. </span>Installing Groovy</a>
      </li>
      <li>
        <a href='chap04.html#leanpub-auto-your-first-lines-of-groovy'><span class="section-number">2. </span>Your first lines of Groovy</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-comments'><span class="section-number">3. </span>Comments</a>
      </li>
      <li>
        <a href='chap06.html#leanpub-auto-statements'><span class="section-number">4. </span>Statements</a>
      </li>
      <li>
        <a href='chap07.html#leanpub-auto-the-assert-statement'><span class="section-number">5. </span>The <code>assert</code> statement</a>
      </li>
      <li>
        <a href='chap08.html#leanpub-auto-reserved-words'><span class="section-number">6. </span>Reserved Words</a>
      </li>
      <li>
        <a href='chap09.html#leanpub-auto-packages'><span class="section-number">7. </span>Packages</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-variables'><span class="section-number">II </span>Variables</a>
    <ul>
      <li>
        <a href='chap11.html#leanpub-auto-declaring-variables'><span class="section-number">8. </span>Declaring Variables</a>
      </li>
      <li>
        <a href='chap12.html#leanpub-auto-data-types'><span class="section-number">9. </span>Data Types</a>
      </li>
      <li>
        <a href='chap13.html#leanpub-auto-objects'><span class="section-number">10. </span>Objects</a>
      </li>
      <li>
        <a href='chap14.html#leanpub-auto-booleans'><span class="section-number">11. </span>Booleans</a>
      </li>
      <li>
        <a href='chap15.html#leanpub-auto-numbers'><span class="section-number">12. </span>Numbers</a>
      </li>
      <li>
        <a href='chap16.html#leanpub-auto-strings'><span class="section-number">13. </span>Strings</a>
      </li>
      <li>
        <a href='chap17.html#leanpub-auto-collections'><span class="section-number">14. </span>Collections</a>
      </li>
      <li>
        <a href='chap18.html#leanpub-auto-arrays'><span class="section-number">15. </span>Arrays</a>
      </li>
      <li>
        <a href='chap19.html#leanpub-auto-ranges'><span class="section-number">16. </span>Ranges</a>
      </li>
      <li>
        <a href='chap20.html#leanpub-auto-regular-expressions'><span class="section-number">17. </span>Regular Expressions</a>
      </li>
      <li>
        <a href='chap21.html#leanpub-auto-data-types-1'><span class="section-number">18. </span>Data types</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap22.html#leanpub-auto-operators'><span class="section-number">III </span>Operators</a>
    <ul>
      <li>
        <a href='chap23.html#leanpub-auto-operators-1'><span class="section-number">19. </span>Operators</a>
      </li>
      <li>
        <a href='chap24.html#leanpub-auto-numeric-operators'><span class="section-number">20. </span>Numeric Operators</a>
      </li>
      <li>
        <a href='chap25.html#leanpub-auto-simple-assignment-operator'><span class="section-number">21. </span>Simple Assignment Operator</a>
      </li>
      <li>
        <a href='chap26.html#leanpub-auto-the-complement-operator'><span class="section-number">22. </span>The Complement Operator</a>
      </li>
      <li>
        <a href='chap27.html#leanpub-auto-equality-operators'><span class="section-number">23. </span>Equality Operators</a>
      </li>
      <li>
        <a href='chap28.html#leanpub-auto-arithmetic-operators'><span class="section-number">24. </span>Arithmetic operators</a>
      </li>
      <li>
        <a href='chap29.html#leanpub-auto-relational-operators'><span class="section-number">25. </span>Relational Operators</a>
      </li>
      <li>
        <a href='chap30.html#leanpub-auto-increment-and-decrement-operators'><span class="section-number">26. </span>Increment and Decrement Operators</a>
      </li>
      <li>
        <a href='chap31.html#leanpub-auto-conditional-operators'><span class="section-number">27. </span>Conditional Operators</a>
      </li>
      <li>
        <a href='chap32.html#leanpub-auto-bitwise-operators'><span class="section-number">28. </span>Bitwise Operators</a>
      </li>
      <li>
        <a href='chap33.html#leanpub-auto-compound-assignment-operators'><span class="section-number">29. </span>Compound Assignment Operators</a>
      </li>
      <li>
        <a href='chap34.html#leanpub-auto-string-operators-1'><span class="section-number">30. </span>String Operators</a>
      </li>
      <li>
        <a href='chap35.html#leanpub-auto-regular-expression-operators-1'><span class="section-number">31. </span>Regular Expression Operators</a>
      </li>
      <li>
        <a href='chap36.html#leanpub-auto-collection-operators-1'><span class="section-number">32. </span>Collection operators</a>
      </li>
      <li>
        <a href='chap37.html#leanpub-auto-object-operators-1'><span class="section-number">33. </span>Object Operators</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap38.html#leanpub-auto-control-flow-statements'><span class="section-number">IV </span>Control Flow Statements</a>
    <ul>
      <li>
        <a href='chap39.html#leanpub-auto-introduction-1'><span class="section-number">34. </span>Introduction</a>
      </li>
      <li>
        <a href='chap40.html#leanpub-auto-blocks'><span class="section-number">35. </span>Blocks</a>
      </li>
      <li>
        <a href='chap41.html#leanpub-auto-the-if-statement'><span class="section-number">36. </span>The <code>if</code> Statement</a>
      </li>
      <li>
        <a href='chap42.html#leanpub-auto-the-switch-statement'><span class="section-number">37. </span>The <code>switch</code> Statement</a>
      </li>
      <li>
        <a href='chap43.html#leanpub-auto-the-for-loop'><span class="section-number">38. </span>The <code>for</code> Loop</a>
      </li>
      <li>
        <a href='chap44.html#leanpub-auto-the-while-loop'><span class="section-number">39. </span>The <code>while</code> loop</a>
      </li>
      <li>
        <a href='chap45.html#leanpub-auto-branching-statements'><span class="section-number">40. </span>Branching statements</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap46.html#leanpub-auto-exceptions'><span class="section-number">V </span>Exceptions</a>
    <ul>
      <li>
        <a href='chap47.html#leanpub-auto-the-throwable-family'><span class="section-number">41. </span>The Throwable Family</a>
      </li>
      <li>
        <a href='chap48.html#leanpub-auto-common-exceptions'><span class="section-number">42. </span>Common Exceptions</a>
      </li>
      <li>
        <a href='chap49.html#leanpub-auto-anatomy-of-an-exception'><span class="section-number">43. </span>Anatomy of an Exception</a>
      </li>
      <li>
        <a href='chap50.html#leanpub-auto-try-catch-finally'><span class="section-number">44. </span>Try-Catch-Finally</a>
      </li>
      <li>
        <a href='chap51.html#leanpub-auto-how-much-should-we-try'><span class="section-number">45. </span>How Much Should We try?</a>
      </li>
      <li>
        <a href='chap52.html#leanpub-auto-causing-an-exception'><span class="section-number">46. </span>Causing an Exception</a>
      </li>
      <li>
        <a href='chap53.html#leanpub-auto-catching-errors'><span class="section-number">47. </span>Catching Errors</a>
      </li>
      <li>
        <a href='chap54.html#leanpub-auto-methods-and-exceptions'><span class="section-number">48. </span>Methods and Exceptions</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap55.html#leanpub-auto-methods'><span class="section-number">VI </span>Methods</a>
    <ul>
      <li>
        <a href='chap56.html#leanpub-auto-the-basics'><span class="section-number">49. </span>The Basics</a>
      </li>
      <li>
        <a href='chap57.html#leanpub-auto-parameters'><span class="section-number">50. </span>Parameters</a>
      </li>
      <li>
        <a href='chap58.html#leanpub-auto-default-values-for-parameters'><span class="section-number">51. </span>Default Values for Parameters</a>
      </li>
      <li>
        <a href='chap59.html#leanpub-auto-named-arguments'><span class="section-number">52. </span>Named Arguments</a>
      </li>
      <li>
        <a href='chap60.html#leanpub-auto-variable-arguments-varargs'><span class="section-number">53. </span>Variable Arguments (Varargs)</a>
      </li>
      <li>
        <a href='chap61.html#leanpub-auto-return-value'><span class="section-number">54. </span>Return value</a>
      </li>
      <li>
        <a href='chap62.html#leanpub-auto-throwing-an-exception'><span class="section-number">55. </span>Throwing an exception</a>
      </li>
      <li>
        <a href='chap63.html#leanpub-auto-documenting-a-method'><span class="section-number">56. </span>Documenting a method</a>
      </li>
      <li>
        <a href='chap64.html#leanpub-auto-techniques'><span class="section-number">57. </span>Techniques</a>
      </li>
      <li>
        <a href='chap65.html#leanpub-auto-colophon'>Colophon</a>
      </li>
    </ul>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main">
<h2 id="leanpub-auto-ranges"><span class="section-number">16. </span>Ranges</h2>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Ranges describe a range of numbers.</p>

    </td>
  </tr>
  </tbody>
</table><p>Ranges define a starting point and an end point. Let’s look at a well-known type of range:</p>

<div class="code-block">
  <p class="codeblock-title">Declaring a range</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="mf">10..0</code>

<code class="n">println</code> <code class="n">countdown</code><code class="p">.</code><code class="n">getFrom</code><code class="p">()</code>
<code class="n">println</code> <code class="n">countdown</code><code class="p">.</code><code class="n">getTo</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>The <code>countdown</code> range starts at 10 and goes down to 0. The notation should be easy to decipher: <code>&lt;start&gt;..&lt;end&gt;</code>.</p>

<p>Printing out a range variable will display that a range is rather like a list of values - in the case of <code>countdown</code> they’re numbers:</p>

<div class="code-block">
  <p class="codeblock-title">Ready for launch</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="mf">10..0</code>
<code class="n">println</code> <code class="n">countdown</code>
</pre></div>

  <hr /></div>

<p>Whilst my examples so far all go down, you can just as easily have a range that goes up:</p>

<div class="code-block">
  <p class="codeblock-title">Going up</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">floors</code> <code class="o">=</code> <code class="mf">1..10</code>
<code class="n">println</code> <code class="n">floors</code>
</pre></div>

  <hr /></div>

<p>You can also use decimals but note that it is only the integer (whole-number) component that is stepped through:</p>

<div class="code-block">
  <p class="codeblock-title">Decimals in ranges</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="mf">10.1</code><code class="p">.</code><code class="mf">.1.1</code>
<code class="n">println</code> <code class="n">countdown</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-half-open-ranges">Half-Open Ranges</h3>

<p>Ranges aren’t just limited to inclusive ranges such as <code>1..10</code>. You can also declare a <em>half-open range</em> using <code>..&lt;</code> - that’s two periods and a less-than. This denotes that the range ends prior to the number to the right. In the example below I setup a grading criteria that avoids an overlap between the grades:</p>

<div class="code-block">
  <p class="codeblock-title">Half-open range declarations</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">gradeA</code> <code class="o">=</code> <code class="mf">90..100</code>
<code class="n">def</code> <code class="n">gradeB</code> <code class="o">=</code> <code class="mf">80.</code><code class="p">.</code><code class="o">&lt;</code><code class="mi">90</code>
<code class="n">def</code> <code class="n">gradeC</code> <code class="o">=</code> <code class="mf">65.</code><code class="p">.</code><code class="o">&lt;</code><code class="mi">80</code>
<code class="n">def</code> <code class="n">gradeD</code> <code class="o">=</code> <code class="mf">50.</code><code class="p">.</code><code class="o">&lt;</code><code class="mi">65</code>
<code class="n">def</code> <code class="n">gradeF</code> <code class="o">=</code> <code class="mf">0.</code><code class="p">.</code><code class="o">&lt;</code><code class="mi">50</code>
</pre></div>

  <hr /></div>

<p>I could tweak the above code if I want to get fancy:</p>

<div class="code-block">
  <p class="codeblock-title">A fancier approach</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">gradeA</code> <code class="o">=</code> <code class="mf">90..100</code>
<code class="n">def</code> <code class="n">gradeB</code> <code class="o">=</code> <code class="mf">80.</code><code class="p">.</code><code class="o">&lt;</code><code class="n">gradeA</code><code class="p">.</code><code class="n">getFrom</code><code class="p">()</code>
<code class="n">def</code> <code class="n">gradeC</code> <code class="o">=</code> <code class="mf">65.</code><code class="p">.</code><code class="o">&lt;</code><code class="n">gradeB</code><code class="p">.</code><code class="n">getFrom</code><code class="p">()</code>
<code class="n">def</code> <code class="n">gradeD</code> <code class="o">=</code> <code class="mf">50.</code><code class="p">.</code><code class="o">&lt;</code><code class="n">gradeC</code><code class="p">.</code><code class="n">getFrom</code><code class="p">()</code>
<code class="n">def</code> <code class="n">gradeF</code> <code class="o">=</code> <code class="mf">0.</code><code class="p">.</code><code class="o">&lt;</code><code class="n">gradeD</code><code class="p">.</code><code class="n">getFrom</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-ranges-of-objects">Ranges of Objects</h3>

<p>Ranges are primarily used with numbers but they can be of any object type that can be iterated through. This basically means that Groovy needs to know what object comes next in the range - these objects provide a <code>next</code> and <code>previous</code> method to determine this sequence. Over time you’ll discover various options for use in ranges but numbers really are the main type. </p>

<p>Apart from numbers, individual characters (letters) can be used in ranges. In the example below I create a range of lower-case letters:</p>

<div class="code-block">
  <p class="codeblock-title">A range of characters</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">alphabet</code> <code class="o">=</code> <code class="sc">'a'</code><code class="p">..</code><code class="sc">'z'</code>
<code class="n">println</code> <code class="n">alphabet</code>
</pre></div>

  <hr /></div>

<h4 id="leanpub-auto-ranges-and-enums">Ranges and Enums</h4>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>We’ll look into Enums when we start looking at creating objects in a later tutorial</p>

    </td>
  </tr>
  </tbody>
</table><p>Ranges can be handy when dealing with <code>enums</code> as they give us the ability to set a subset of enum values. In the example below I create a handy helpdesk tool:</p>

<ol class="numeric"><li>Setup an <code>enum</code> listing the possible ticket priorities</li>
  <li>Create a new <code>class</code> to describe helpdesk tickets</li>
  <li>Setup a <code>helpdeskQueue</code> containing a list of tickets</li>
  <li>Set the <code>focus</code> variable as a range of <code>Priority</code> values</li>
  <li>Go through the list of tickets and pick up any that are set to the <code>priority</code> I care about.</li>
</ol><div class="code-block">
  <p class="codeblock-title">Using a helpdesk ticket <code>enum</code></p>

  <hr /><div class="highlight"><pre>enum Priority {
    LOW,MEDIUM,HIGH,URGENT
}

class Ticket {
    def priority
    def title
}

def helpdeskQueue = [
    new Ticket(priority: Priority.HIGH, title: 'My laptop is on fire'),
    new Ticket(priority: Priority.LOW, title: 'Where is the any key'),
    new Ticket(priority: Priority.URGENT, title: 'I am the CEO and I need a coff\
ee'),
    new Ticket(priority: Priority.MEDIUM, title: 'I forgot my password')
]

def focus = Priority.HIGH..Priority.URGENT

for (ticket in helpdeskQueue) {
    if (ticket.priority in focus) {
        println "You need to see to: <code class="cp">${</code><code class="n">ticket</code><code class="o">.</code><code class="n">title</code><code class="cp">}</code>"
    }
}
</pre></div>

  <hr /></div>

<p>Try the example above out with various settings for the <code>focus</code> variable:</p>

<ul><li><code>def focus = Priority.MEDIUM..Priority.URGENT</code>
    <ul><li>Gives us more tickets to see to :(</li>
    </ul></li>
  <li><code>def focus = Priority.HIGH..Priority.LOW</code>
    <ul><li>Is actually similar to <code>4..1</code> and leaves out the tickets marked <code>URGENT</code></li>
    </ul></li>
</ul><h3 id="leanpub-auto-ranges-and-list-indexes">Ranges and List Indexes</h3>

<p>You can access a subset of a list using a range subscript. In the example below I use the subscript <code>[1..3]</code> to grab a new list containing elements 1 through 3 of the <code>temperatures</code> list. </p>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-zero-based-lists">Zero-based lists</h3>
  <p>Remember that lists are zero-based so <code>5</code> is element number 1</p>

    </td>
  </tr>
  </tbody>
</table><div class="code-block">
  <p class="codeblock-title">Accessing range elements</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">temperatures</code> <code class="o">=</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">6</code><code class="p">]</code>
<code class="n">def</code> <code class="n">subTemp</code> <code class="o">=</code> <code class="n">temperatures</code><code class="p">[</code><code class="mf">1..3</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">subTemp</code> <code class="o">==</code> <code class="p">[</code><code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-ranges-and-loops">Ranges and Loops</h3>

<p>Ranges are most often see when we’re using loops - we’ll get to them in a later tutorial but here’s an example of a launch sequence:</p>

<div class="code-block">
  <p class="codeblock-title">Looping with ranges</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="mf">10..0</code>

<code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="n">in</code> <code class="n">countdown</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">"T minus $i and counting"</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<p>In the above example I store the range in the <code>countdown</code> variable in case I need it again later. If I don’t really need to re-use the range I can put the range’s literal value directly into the loop:</p>

<div class="code-block">
  <p class="codeblock-title">Looping with ranges refined</p>

  <hr /><div class="highlight"><pre><code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="n">in</code> <code class="mf">10..1</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">"T minus $i and counting"</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-useful-methods-3">Useful Methods</h3>

<p>We can use the <code>size()</code> method to find out how many elements are in the range:</p>

<div class="code-block">
  <p class="codeblock-title">The size method</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">dalmations</code> <code class="o">=</code> <code class="mf">1..101</code>
<code class="n">println</code> <code class="n">dalmations</code><code class="p">.</code><code class="n">size</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>As seen earlier, the <code>getFrom()</code> and <code>getTo()</code> methods return the start and final values respectively:</p>

<div class="code-block">
  <p class="codeblock-title">The range’s start and end values</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">intRange</code> <code class="o">=</code> <code class="mf">1..10</code>
<code class="n">println</code> <code class="n">intRange</code><code class="p">.</code><code class="n">getFrom</code><code class="p">()</code>
<code class="n">println</code> <code class="n">intRange</code><code class="p">.</code><code class="n">getTo</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>The <code>isReverse()</code> method returns <code>true</code> if a range iterates downwards (backwards):</p>

<div class="code-block">
  <p class="codeblock-title">Checking for reverse</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="mf">10..0</code>
<code class="n">assert</code> <code class="n">countdown</code><code class="p">.</code><code class="n">isReverse</code><code class="p">()</code> <code class="o">==</code> <code class="nb">true</code>
</pre></div>

  <hr /></div>

<p>You can can use the <code>reverse()</code> method to flip the range:</p>

<div class="code-block">
  <p class="codeblock-title">Reversing the range</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">floors</code> <code class="o">=</code> <code class="mf">1..10</code>
<code class="n">println</code> <code class="n">floors</code><code class="p">.</code><code class="n">reverse</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>In order to check if a value is contained within a range we use the <code>containsWithinBounds</code> method and pass it the value we’re checking on:</p>

<div class="code-block">
  <p class="codeblock-title">Checking bounds</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="mf">10..0</code>
<code class="n">assert</code> <code class="n">countdown</code><code class="p">.</code><code class="n">containsWithinBounds</code><code class="p">(</code><code class="mi">5</code><code class="p">)</code> <code class="o">==</code> <code class="nb">true</code>
</pre></div>

  <hr /></div>

<p>The <code>step</code> method returns a list based going through the range via the specified increment (step). In the example below I step through the range one at a time (<code>step(1)</code>) and then two at a time (<code>step(2)</code>):</p>

<div class="code-block">
  <p class="codeblock-title">Stepping</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="mf">5..1</code>
<code class="n">assert</code> <code class="n">countdown</code><code class="p">.</code><code class="n">step</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code> <code class="o">==</code> <code class="p">[</code><code class="mi">5</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">1</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">countdown</code><code class="p">.</code><code class="n">step</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code> <code class="o">==</code> <code class="p">[</code><code class="mi">5</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">1</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<p>As <code>step</code> returns a list I can use it to populate a list variable that has too many numbers for me to be bothered typing out:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">dalmations</code> <code class="o">=</code> <code class="p">(</code><code class="mf">1..101</code><code class="p">).</code><code class="n">step</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code>
<code class="n">println</code> <code class="n">dalmations</code>
</pre></div>

</div>

<p>As we’re about to see the <code>step</code> method is very effective when used with closures.</p>

<h4 id="leanpub-auto-ranges-and-closures">Ranges and Closures</h4>

<p>Closures are a method (function) that can be handled in a manner similar to variables. A closure is described within curly brackets <code>{..}</code> and can be passed as method parameters.  Closure have a default variable named <code>it</code> and this holds a value passed to the closure by its caller.</p>

<p>We’ll look into closures much more thoroughly in a later tutorial but, for now, take in the following examples and refer back to them when you get to know closures a little better.</p>

<p>The <code>step</code> method will call a closure for each item in a range. In the example below I step through <code>countdown</code> one number at a time and, for each number, I display a message:</p>

<div class="code-block">
  <p class="codeblock-title">Stepping through a range with closures</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="mf">10..1</code>
<code class="n">countdown</code><code class="p">.</code><code class="n">step</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">"T minus $it and counting"</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-closure-syntax">Closure syntax</h3>
  <p>The syntax <code>countdown.step(1) {..}</code> probably looks a bit odd at this point - essentially, the closure is being passed as a parameter to <code>step</code>. There’s a tutorial covering closures coming up so don’t feel too annoyed if these examples don’t look right to you.</p>

    </td>
  </tr>
  </tbody>
</table><p>I can use the range literal but need to place it within <code>(..)</code>:</p>

<div class="code-block">
  <p class="codeblock-title">Using the range literal</p>

  <hr /><div class="highlight"><pre><code class="p">(</code><code class="mf">10..1</code><code class="p">).</code><code class="n">step</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">"T minus $it and counting"</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<p>You can change the size of each step - in the case below I step down by 2 each time. Run the code and notice that launch never happens!</p>

<div class="code-block">
  <p class="codeblock-title">Changing the step</p>

  <hr /><div class="highlight"><pre><code class="p">(</code><code class="mf">10..1</code><code class="p">).</code><code class="n">step</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">"T minus $it and counting"</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>
</div>
</body>
</html>
