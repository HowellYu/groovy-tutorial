<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>7. Packages</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div id="leanpub-toc">
<h2></h2>
<ol class="toc has-parts">
<ul class='toc has-parts'>
  <li>
    <ul>
      <li>
        <a href='chap00.html#leanpub-auto-introduction'>Introduction</a>
      </li>
      <li>
        <a href='chap01.html#leanpub-auto-legal-notices'>Legal Notices</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-getting-started'><span class="section-number">I </span>Getting started</a>
    <ul>
      <li>
        <a href='chap03.html#leanpub-auto-installing-groovy'><span class="section-number">1. </span>Installing Groovy</a>
      </li>
      <li>
        <a href='chap04.html#leanpub-auto-your-first-lines-of-groovy'><span class="section-number">2. </span>Your first lines of Groovy</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-comments'><span class="section-number">3. </span>Comments</a>
      </li>
      <li>
        <a href='chap06.html#leanpub-auto-statements'><span class="section-number">4. </span>Statements</a>
      </li>
      <li>
        <a href='chap07.html#leanpub-auto-the-assert-statement'><span class="section-number">5. </span>The <code>assert</code> statement</a>
      </li>
      <li>
        <a href='chap08.html#leanpub-auto-reserved-words'><span class="section-number">6. </span>Reserved Words</a>
      </li>
      <li>
        <a href='chap09.html#leanpub-auto-packages'><span class="section-number">7. </span>Packages</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-variables'><span class="section-number">II </span>Variables</a>
    <ul>
      <li>
        <a href='chap11.html#leanpub-auto-declaring-variables'><span class="section-number">8. </span>Declaring Variables</a>
      </li>
      <li>
        <a href='chap12.html#leanpub-auto-data-types'><span class="section-number">9. </span>Data Types</a>
      </li>
      <li>
        <a href='chap13.html#leanpub-auto-objects'><span class="section-number">10. </span>Objects</a>
      </li>
      <li>
        <a href='chap14.html#leanpub-auto-booleans'><span class="section-number">11. </span>Booleans</a>
      </li>
      <li>
        <a href='chap15.html#leanpub-auto-numbers'><span class="section-number">12. </span>Numbers</a>
      </li>
      <li>
        <a href='chap16.html#leanpub-auto-strings'><span class="section-number">13. </span>Strings</a>
      </li>
      <li>
        <a href='chap17.html#leanpub-auto-collections'><span class="section-number">14. </span>Collections</a>
      </li>
      <li>
        <a href='chap18.html#leanpub-auto-arrays'><span class="section-number">15. </span>Arrays</a>
      </li>
      <li>
        <a href='chap19.html#leanpub-auto-ranges'><span class="section-number">16. </span>Ranges</a>
      </li>
      <li>
        <a href='chap20.html#leanpub-auto-regular-expressions'><span class="section-number">17. </span>Regular Expressions</a>
      </li>
      <li>
        <a href='chap21.html#leanpub-auto-data-types-1'><span class="section-number">18. </span>Data types</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap22.html#leanpub-auto-operators'><span class="section-number">III </span>Operators</a>
    <ul>
      <li>
        <a href='chap23.html#leanpub-auto-operators-1'><span class="section-number">19. </span>Operators</a>
      </li>
      <li>
        <a href='chap24.html#leanpub-auto-numeric-operators'><span class="section-number">20. </span>Numeric Operators</a>
      </li>
      <li>
        <a href='chap25.html#leanpub-auto-simple-assignment-operator'><span class="section-number">21. </span>Simple Assignment Operator</a>
      </li>
      <li>
        <a href='chap26.html#leanpub-auto-the-complement-operator'><span class="section-number">22. </span>The Complement Operator</a>
      </li>
      <li>
        <a href='chap27.html#leanpub-auto-equality-operators'><span class="section-number">23. </span>Equality Operators</a>
      </li>
      <li>
        <a href='chap28.html#leanpub-auto-arithmetic-operators'><span class="section-number">24. </span>Arithmetic operators</a>
      </li>
      <li>
        <a href='chap29.html#leanpub-auto-relational-operators'><span class="section-number">25. </span>Relational Operators</a>
      </li>
      <li>
        <a href='chap30.html#leanpub-auto-increment-and-decrement-operators'><span class="section-number">26. </span>Increment and Decrement Operators</a>
      </li>
      <li>
        <a href='chap31.html#leanpub-auto-conditional-operators'><span class="section-number">27. </span>Conditional Operators</a>
      </li>
      <li>
        <a href='chap32.html#leanpub-auto-bitwise-operators'><span class="section-number">28. </span>Bitwise Operators</a>
      </li>
      <li>
        <a href='chap33.html#leanpub-auto-compound-assignment-operators'><span class="section-number">29. </span>Compound Assignment Operators</a>
      </li>
      <li>
        <a href='chap34.html#leanpub-auto-string-operators-1'><span class="section-number">30. </span>String Operators</a>
      </li>
      <li>
        <a href='chap35.html#leanpub-auto-regular-expression-operators-1'><span class="section-number">31. </span>Regular Expression Operators</a>
      </li>
      <li>
        <a href='chap36.html#leanpub-auto-collection-operators-1'><span class="section-number">32. </span>Collection operators</a>
      </li>
      <li>
        <a href='chap37.html#leanpub-auto-object-operators-1'><span class="section-number">33. </span>Object Operators</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap38.html#leanpub-auto-control-flow-statements'><span class="section-number">IV </span>Control Flow Statements</a>
    <ul>
      <li>
        <a href='chap39.html#leanpub-auto-introduction-1'><span class="section-number">34. </span>Introduction</a>
      </li>
      <li>
        <a href='chap40.html#leanpub-auto-blocks'><span class="section-number">35. </span>Blocks</a>
      </li>
      <li>
        <a href='chap41.html#leanpub-auto-the-if-statement'><span class="section-number">36. </span>The <code>if</code> Statement</a>
      </li>
      <li>
        <a href='chap42.html#leanpub-auto-the-switch-statement'><span class="section-number">37. </span>The <code>switch</code> Statement</a>
      </li>
      <li>
        <a href='chap43.html#leanpub-auto-the-for-loop'><span class="section-number">38. </span>The <code>for</code> Loop</a>
      </li>
      <li>
        <a href='chap44.html#leanpub-auto-the-while-loop'><span class="section-number">39. </span>The <code>while</code> loop</a>
      </li>
      <li>
        <a href='chap45.html#leanpub-auto-branching-statements'><span class="section-number">40. </span>Branching statements</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap46.html#leanpub-auto-exceptions'><span class="section-number">V </span>Exceptions</a>
    <ul>
      <li>
        <a href='chap47.html#leanpub-auto-the-throwable-family'><span class="section-number">41. </span>The Throwable Family</a>
      </li>
      <li>
        <a href='chap48.html#leanpub-auto-common-exceptions'><span class="section-number">42. </span>Common Exceptions</a>
      </li>
      <li>
        <a href='chap49.html#leanpub-auto-anatomy-of-an-exception'><span class="section-number">43. </span>Anatomy of an Exception</a>
      </li>
      <li>
        <a href='chap50.html#leanpub-auto-try-catch-finally'><span class="section-number">44. </span>Try-Catch-Finally</a>
      </li>
      <li>
        <a href='chap51.html#leanpub-auto-how-much-should-we-try'><span class="section-number">45. </span>How Much Should We try?</a>
      </li>
      <li>
        <a href='chap52.html#leanpub-auto-causing-an-exception'><span class="section-number">46. </span>Causing an Exception</a>
      </li>
      <li>
        <a href='chap53.html#leanpub-auto-catching-errors'><span class="section-number">47. </span>Catching Errors</a>
      </li>
      <li>
        <a href='chap54.html#leanpub-auto-methods-and-exceptions'><span class="section-number">48. </span>Methods and Exceptions</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap55.html#leanpub-auto-methods'><span class="section-number">VI </span>Methods</a>
    <ul>
      <li>
        <a href='chap56.html#leanpub-auto-the-basics'><span class="section-number">49. </span>The Basics</a>
      </li>
      <li>
        <a href='chap57.html#leanpub-auto-parameters'><span class="section-number">50. </span>Parameters</a>
      </li>
      <li>
        <a href='chap58.html#leanpub-auto-default-values-for-parameters'><span class="section-number">51. </span>Default Values for Parameters</a>
      </li>
      <li>
        <a href='chap59.html#leanpub-auto-named-arguments'><span class="section-number">52. </span>Named Arguments</a>
      </li>
      <li>
        <a href='chap60.html#leanpub-auto-variable-arguments-varargs'><span class="section-number">53. </span>Variable Arguments (Varargs)</a>
      </li>
      <li>
        <a href='chap61.html#leanpub-auto-return-value'><span class="section-number">54. </span>Return value</a>
      </li>
      <li>
        <a href='chap62.html#leanpub-auto-throwing-an-exception'><span class="section-number">55. </span>Throwing an exception</a>
      </li>
      <li>
        <a href='chap63.html#leanpub-auto-documenting-a-method'><span class="section-number">56. </span>Documenting a method</a>
      </li>
      <li>
        <a href='chap64.html#leanpub-auto-techniques'><span class="section-number">57. </span>Techniques</a>
      </li>
      <li>
        <a href='chap65.html#leanpub-auto-colophon'>Colophon</a>
      </li>
    </ul>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main">
<h2 id="leanpub-auto-packages"><span class="section-number">7. </span>Packages</h2>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Groovy lets you take advantage of the core Java packages (the JDK) so let’s take a quick look at how this works.</p>

    </td>
  </tr>
  </tbody>
</table><p>Except for very small programs, most Groovy and Java-based programs are made up of packages of code:</p>

<ul><li>The <code>package</code> keyword is used to designate that a class is part of a package and we’ll cover this more fully in the tutorial on object-oriented Groovy.</li>
  <li>The <code>import</code> keyword is used to import classes from other packages into a program. </li>
</ul><p>Consider the sample code below:</p>

<div class="code-block">
  <p class="codeblock-title">Using imports</p>

  <hr /><div class="highlight"><pre><code class="n">package</code> <code class="n">test</code>

<code class="kn">import</code> <code class="nn">java.time.Year</code>

<code class="n">println</code> <code class="n">Year</code><code class="o">.</code><code class="n">now</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>I’ve indicated that this code:</p>

<ul><li>Is part of a <code>package</code> named <code>test</code></li>
  <li>Needs to use the <code>Year</code> class defined in the <code>java.time</code> package</li>
</ul><p>This notion of packaging allows for thousands of developers to create classes and packages without clashing. If another developer creates a <code>Year</code> class but put it into a package with a name other than <code>java.time</code> then all will be well. Oh, and you’d never start your own package name with <code>java.</code> - that really won’t work out well for you<sup id="fnref-pkg"><a href="chap09.html#fn-pkg" rel="footnote">1</a></sup>.</p>

<p>Before you write any new code you should always check out these resources in the order I’ve given below:</p>

<ol class="numeric"><li>The <a href="http://docs.groovy-lang.org/docs/groovy-2.4.0/html/gapi/">Groovy API (GAPI)</a></li>
  <li>The <a href="http://docs.groovy-lang.org/docs/groovy-2.4.0/html/groovy-jdk/">Groovy extensions to the JDK (GDK)</a></li>
  <li>The <a href="http://docs.oracle.com/javase/8/docs/api/index.html">standard Java classes (JDK)</a></li>
</ol><p>Using the order I’ve provided above lets you look at the libraries providing the Groovy approach first (the GAPI and GDK) then looking at the Java standard library (JDK).</p>

<p>For the rest of this chapter I’ll focus on <code>import</code> as that will help us in the early set of tutorials.</p>

<h3 id="leanpub-auto-using-import">Using <code>import</code></h3>

<p>You can <code>import</code> other classes in a variety of manners - let’s take a look.</p>

<h4 id="leanpub-auto-basic-imports">Basic Imports</h4>
<p>The basic form of imports are the most commonly seen and you should get accustomed to them pretty quickly.</p>

<dl><dt><code>import java.time.Year</code></dt>
  <dd>This will import the <code>Year</code> class from the <code>java.time</code> package</dd>
  <dt><code>import java.time.*</code></dt>
  <dd>This is a star (wildcard) import</dd>
  <dd>This will import all classes in the <code>java.time</code> package</dd>
</dl><h4 id="leanpub-auto-static-imports">Static imports</h4>

<p>Static imports can help your code look a little cleaner as they give you an easy way to refer to useful constants and functions (methods) declared in other code packages.</p>

<dl><dt><code>import static java.lang.Math.PI</code></dt>
  <dd>This is a <em>static</em> import</dd>
  <dd>This lets you import static items from another class </dd>
  <dd>In this example I’ve imported the <code>PI</code> constant from the <code>java.lang.Math</code> class and can now use it as if it was just part of my code: <code>println PI</code></dd>
  <dt><code>import static java.lang.Math.PI as pi</code></dt>
  <dd>This is a <em>static</em> import with <em>aliasing</em></dd>
  <dd>This is the same as the previous <code>import</code> but I can use the <code>as</code> keyword to rename the item being imported - I’ve decided to use <code>PI</code> but using the lowercase <code>pi</code></dd>
  <dt><code>import static java.util.UUID.randomUUID as generateId</code></dt>
  <dd>This is also a <em>static</em> import with <em>aliasing</em> but I’ve imported the <code>randomUUID</code> static method and given in the alias <code>generateId</code></dd>
  <dd>I can now call <code>println generateId()</code> in my program</dd>
  <dt><code>import static java.lang.Math.*</code></dt>
  <dd>This is a <em>static star</em> import and will import all static elements described in <code>Math</code> and let me refer to them directly in my program.</dd>
</dl><p>I’ve thrown the term <code>static</code> around a lot here - don’t worry too much about this for now as we’ll really only need basic imports for now. The notion of <code>static</code> will be covered when we get to object-oriented Groovy.</p>

<h3 id="leanpub-auto-built-in-libraries">Built in Libraries</h3>

<p>The following libraries are imported into Groovy by default - you don’t need to do anything to start using them:</p>

<ul><li><code>java.io.*</code></li>
  <li><code>java.lang.*</code></li>
  <li><code>java.math.BigDecimal</code></li>
  <li><code>java.math.BigInteger</code></li>
  <li><code>java.net.*</code></li>
  <li><code>java.util.*</code></li>
  <li><code>groovy.lang.*</code></li>
  <li><code>groovy.util.*</code></li>
</ul><p>Groovy is able to make use of classes within these packages without explicitly <code>import</code>ing them. You can still declare them with <code>import</code> and you’ll notice various development environments (IDEs) will do this regardless of Groovy’s default - either way it’ll be groovy.</p>

<h3 id="leanpub-auto-useful-third-party-libraries">Useful third-party libraries</h3>
<p>There is an extensive body of existing Java libraries available to the Groovy developer and it’s best to do some investigating before you write your own code - re-using well-supported libraries is a real time saver - here’s a couple to take a look at:</p>

<ol class="numeric"><li><a href="http://commons.apache.org/">Apache Commons</a></li>
  <li><a href="https://code.google.com/p/guava-libraries/">Google Guava</a></li>
</ol><p>In the olden days (in Java-time) you’d often have to download the third-party library you wanted, download any other libraries it depended on, store them in the correct place (called a Classpath) and then you could start using it. Time went by and systems such as <a href="http://maven.apache.org">Apache Maven</a> came along to make it easier to grab a copy of your dependencies. This then lead to <a href="http://search.maven.org">The (Maven) Central Repository</a> and made it even easier to grab the libraries you needed. </p>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-other-repositories">Other repositories</h3>
  <p>There are other repositories you can use too - you’ll likely come across these as you write more code and seek out new dependencies.</p>

    </td>
  </tr>
  </tbody>
</table><h3 id="leanpub-auto-grape">Grape</h3>
<p>Whilst you can use Maven or (even better) <a href="http://gradle.org">Gradle</a> to grab these dependencies, Groovy includes a dependency manager called <a href="http://groovy-lang.org/grape.html">Grape</a> that you can start using straight away.</p>

<p>Say I wanted to grab a copy of my favourite web page and had worked out that <a href="https://hc.apache.org/index.html">Apache’s HTTP Components</a> would really help me. I can search the Maven Central Repository and <a href="http://search.maven.org/#artifactdetails%7Corg.apache.httpcomponents%7Chttpclient%7C4.3.6%7Cjar">find what I need</a>. In fact, that web page even tells me how to use the library with Grape:</p>

<div class="code-block">
  <p class="codeblock-title">Grape example</p>

  <hr /><div class="highlight"><pre><code class="err">@</code><code class="n">Grapes</code><code class="p">(</code> 
<code class="err">@</code><code class="n">Grab</code><code class="p">(</code><code class="n">group</code><code class="o">=</code><code class="err">'</code><code class="n">org</code><code class="p">.</code><code class="n">apache</code><code class="p">.</code><code class="n">httpcomponents</code><code class="err">'</code><code class="p">,</code> <code class="n">module</code><code class="o">=</code><code class="err">'</code><code class="n">httpcomponents</code><code class="o">-</code><code class="n">client</code><code class="err">'</code><code class="p">,</code> <code class="n">version</code>\
<code class="o">=</code><code class="err">'</code><code class="mf">4.4</code><code class="err">'</code><code class="p">)</code> 
<code class="p">)</code>
</pre></div>

  <hr /></div>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Searching the repository can be a little frustrating at first but you’ll get the hang of it over time.</p>

    </td>
  </tr>
  </tbody>
</table><p>Grape uses annotations - essentially the “at” (<code>@</code>) sign followed by a name - to do its thing. In the example above:</p>

<ul><li><code>@Grapes</code> starts of the grape listing
    <ul><li>You need this if you’re grabbing several libraries in the same segment (node) of your code - we can actually ignore this in smaller examples.</li>
    </ul></li>
  <li>Each grape is declared using <code>@Grab</code> and providing the following:
    <ul><li>The <code>group</code> that holds the module</li>
      <li>The name of the <code>module</code></li>
      <li>The required version of the <code>module</code></li>
    </ul></li>
</ul><p>In the code below I use the Apache HTTP Components library to report on the HTTP status line from my request to “http://www.example.org”. I’ve trimmed off the <code>@Grapes</code> as I just need to <code>Grab</code> one module:</p>

<div class="code-block">
  <p class="codeblock-title">Using Grape</p>

  <hr /><div class="highlight"><pre><code class="nd">@Grab</code><code class="p">(</code><code class="n">group</code><code class="o">=</code><code class="s">'org.apache.httpcomponents'</code><code class="p">,</code> <code class="n">module</code><code class="o">=</code><code class="s">'httpclient'</code><code class="p">,</code> <code class="n">version</code><code class="o">=</code><code class="s">'4.3.6'</code><code class="p">)</code>  
<code class="kn">import</code> <code class="nn">org.apache.http.impl.client.HttpClients</code>
<code class="kn">import</code> <code class="nn">org.apache.http.client.methods.HttpGet</code>

<code class="k">def</code> <code class="nf">httpclient</code> <code class="o">=</code> <code class="n">HttpClients</code><code class="o">.</code><code class="n">createDefault</code><code class="p">()</code>
<code class="k">def</code> <code class="nf">httpGet</code> <code class="o">=</code> <code class="n">new</code> <code class="n">HttpGet</code><code class="p">(</code><code class="s">'http://www.example.org'</code><code class="p">)</code>
<code class="k">def</code> <code class="nf">response</code> <code class="o">=</code> <code class="n">httpclient</code><code class="o">.</code><code class="n">execute</code><code class="p">(</code><code class="n">httpGet</code><code class="p">)</code>

<code class="n">println</code> <code class="n">response</code><code class="o">.</code><code class="n">getStatusLine</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-where-to-grab">Where to grab</h3>
  <p>I like to put my <code>@Grabs</code> on the line above the <code>import</code> that include the dependency - it helps other see where my libraries are coming from.</p>

    </td>
  </tr>
  </tbody>
</table><p>You can use a short-form version of <code>@Grab</code> using the format <code>&lt;group&gt;:&lt;module&gt;:&lt;version&gt;</code> - this would let us use the following:</p>

<div class="code-block">
  <p class="codeblock-title">Short-form grape</p>

  <hr /><div class="highlight"><pre><code class="err">@</code><code class="n">Grab</code><code class="p">(</code><code class="err">'</code><code class="n">org</code><code class="p">.</code><code class="n">apache</code><code class="p">.</code><code class="n">httpcomponents</code><code class="o">:</code><code class="n">httpclient</code><code class="o">:</code><code class="mf">4.3.6</code><code class="err">'</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<p>Once you start building more complex programs you will probably turn to Gradle but Grape works just fine for these tutorials.</p>

<div class="footnotes">
  <ol><li id="fn-pkg">There’s actually a <a href="http://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html">package naming convention</a> that is very easy to follow.<a href="chap09.html#fnref-pkg" rev="footnote">↩</a></li>
  </ol></div>
</div>
</body>
</html>
