<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>23. Equality Operators</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div id="leanpub-toc">
<h2></h2>
<ol class="toc has-parts">
<ul class='toc has-parts'>
  <li>
    <ul>
      <li>
        <a href='chap00.html#leanpub-auto-introduction'>Introduction</a>
      </li>
      <li>
        <a href='chap01.html#leanpub-auto-legal-notices'>Legal Notices</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-getting-started'><span class="section-number">I </span>Getting started</a>
    <ul>
      <li>
        <a href='chap03.html#leanpub-auto-installing-groovy'><span class="section-number">1. </span>Installing Groovy</a>
      </li>
      <li>
        <a href='chap04.html#leanpub-auto-your-first-lines-of-groovy'><span class="section-number">2. </span>Your first lines of Groovy</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-comments'><span class="section-number">3. </span>Comments</a>
      </li>
      <li>
        <a href='chap06.html#leanpub-auto-statements'><span class="section-number">4. </span>Statements</a>
      </li>
      <li>
        <a href='chap07.html#leanpub-auto-the-assert-statement'><span class="section-number">5. </span>The <code>assert</code> statement</a>
      </li>
      <li>
        <a href='chap08.html#leanpub-auto-reserved-words'><span class="section-number">6. </span>Reserved Words</a>
      </li>
      <li>
        <a href='chap09.html#leanpub-auto-packages'><span class="section-number">7. </span>Packages</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-variables'><span class="section-number">II </span>Variables</a>
    <ul>
      <li>
        <a href='chap11.html#leanpub-auto-declaring-variables'><span class="section-number">8. </span>Declaring Variables</a>
      </li>
      <li>
        <a href='chap12.html#leanpub-auto-data-types'><span class="section-number">9. </span>Data Types</a>
      </li>
      <li>
        <a href='chap13.html#leanpub-auto-objects'><span class="section-number">10. </span>Objects</a>
      </li>
      <li>
        <a href='chap14.html#leanpub-auto-booleans'><span class="section-number">11. </span>Booleans</a>
      </li>
      <li>
        <a href='chap15.html#leanpub-auto-numbers'><span class="section-number">12. </span>Numbers</a>
      </li>
      <li>
        <a href='chap16.html#leanpub-auto-strings'><span class="section-number">13. </span>Strings</a>
      </li>
      <li>
        <a href='chap17.html#leanpub-auto-collections'><span class="section-number">14. </span>Collections</a>
      </li>
      <li>
        <a href='chap18.html#leanpub-auto-arrays'><span class="section-number">15. </span>Arrays</a>
      </li>
      <li>
        <a href='chap19.html#leanpub-auto-ranges'><span class="section-number">16. </span>Ranges</a>
      </li>
      <li>
        <a href='chap20.html#leanpub-auto-regular-expressions'><span class="section-number">17. </span>Regular Expressions</a>
      </li>
      <li>
        <a href='chap21.html#leanpub-auto-data-types-1'><span class="section-number">18. </span>Data types</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap22.html#leanpub-auto-operators'><span class="section-number">III </span>Operators</a>
    <ul>
      <li>
        <a href='chap23.html#leanpub-auto-operators-1'><span class="section-number">19. </span>Operators</a>
      </li>
      <li>
        <a href='chap24.html#leanpub-auto-numeric-operators'><span class="section-number">20. </span>Numeric Operators</a>
      </li>
      <li>
        <a href='chap25.html#leanpub-auto-simple-assignment-operator'><span class="section-number">21. </span>Simple Assignment Operator</a>
      </li>
      <li>
        <a href='chap26.html#leanpub-auto-the-complement-operator'><span class="section-number">22. </span>The Complement Operator</a>
      </li>
      <li>
        <a href='chap27.html#leanpub-auto-equality-operators'><span class="section-number">23. </span>Equality Operators</a>
      </li>
      <li>
        <a href='chap28.html#leanpub-auto-arithmetic-operators'><span class="section-number">24. </span>Arithmetic operators</a>
      </li>
      <li>
        <a href='chap29.html#leanpub-auto-relational-operators'><span class="section-number">25. </span>Relational Operators</a>
      </li>
      <li>
        <a href='chap30.html#leanpub-auto-increment-and-decrement-operators'><span class="section-number">26. </span>Increment and Decrement Operators</a>
      </li>
      <li>
        <a href='chap31.html#leanpub-auto-conditional-operators'><span class="section-number">27. </span>Conditional Operators</a>
      </li>
      <li>
        <a href='chap32.html#leanpub-auto-bitwise-operators'><span class="section-number">28. </span>Bitwise Operators</a>
      </li>
      <li>
        <a href='chap33.html#leanpub-auto-compound-assignment-operators'><span class="section-number">29. </span>Compound Assignment Operators</a>
      </li>
      <li>
        <a href='chap34.html#leanpub-auto-string-operators-1'><span class="section-number">30. </span>String Operators</a>
      </li>
      <li>
        <a href='chap35.html#leanpub-auto-regular-expression-operators-1'><span class="section-number">31. </span>Regular Expression Operators</a>
      </li>
      <li>
        <a href='chap36.html#leanpub-auto-collection-operators-1'><span class="section-number">32. </span>Collection operators</a>
      </li>
      <li>
        <a href='chap37.html#leanpub-auto-object-operators-1'><span class="section-number">33. </span>Object Operators</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap38.html#leanpub-auto-control-flow-statements'><span class="section-number">IV </span>Control Flow Statements</a>
    <ul>
      <li>
        <a href='chap39.html#leanpub-auto-introduction-1'><span class="section-number">34. </span>Introduction</a>
      </li>
      <li>
        <a href='chap40.html#leanpub-auto-blocks'><span class="section-number">35. </span>Blocks</a>
      </li>
      <li>
        <a href='chap41.html#leanpub-auto-the-if-statement'><span class="section-number">36. </span>The <code>if</code> Statement</a>
      </li>
      <li>
        <a href='chap42.html#leanpub-auto-the-switch-statement'><span class="section-number">37. </span>The <code>switch</code> Statement</a>
      </li>
      <li>
        <a href='chap43.html#leanpub-auto-the-for-loop'><span class="section-number">38. </span>The <code>for</code> Loop</a>
      </li>
      <li>
        <a href='chap44.html#leanpub-auto-the-while-loop'><span class="section-number">39. </span>The <code>while</code> loop</a>
      </li>
      <li>
        <a href='chap45.html#leanpub-auto-branching-statements'><span class="section-number">40. </span>Branching statements</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap46.html#leanpub-auto-exceptions'><span class="section-number">V </span>Exceptions</a>
    <ul>
      <li>
        <a href='chap47.html#leanpub-auto-the-throwable-family'><span class="section-number">41. </span>The Throwable Family</a>
      </li>
      <li>
        <a href='chap48.html#leanpub-auto-common-exceptions'><span class="section-number">42. </span>Common Exceptions</a>
      </li>
      <li>
        <a href='chap49.html#leanpub-auto-anatomy-of-an-exception'><span class="section-number">43. </span>Anatomy of an Exception</a>
      </li>
      <li>
        <a href='chap50.html#leanpub-auto-try-catch-finally'><span class="section-number">44. </span>Try-Catch-Finally</a>
      </li>
      <li>
        <a href='chap51.html#leanpub-auto-how-much-should-we-try'><span class="section-number">45. </span>How Much Should We try?</a>
      </li>
      <li>
        <a href='chap52.html#leanpub-auto-causing-an-exception'><span class="section-number">46. </span>Causing an Exception</a>
      </li>
      <li>
        <a href='chap53.html#leanpub-auto-catching-errors'><span class="section-number">47. </span>Catching Errors</a>
      </li>
      <li>
        <a href='chap54.html#leanpub-auto-methods-and-exceptions'><span class="section-number">48. </span>Methods and Exceptions</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap55.html#leanpub-auto-methods'><span class="section-number">VI </span>Methods</a>
    <ul>
      <li>
        <a href='chap56.html#leanpub-auto-the-basics'><span class="section-number">49. </span>The Basics</a>
      </li>
      <li>
        <a href='chap57.html#leanpub-auto-parameters'><span class="section-number">50. </span>Parameters</a>
      </li>
      <li>
        <a href='chap58.html#leanpub-auto-default-values-for-parameters'><span class="section-number">51. </span>Default Values for Parameters</a>
      </li>
      <li>
        <a href='chap59.html#leanpub-auto-named-arguments'><span class="section-number">52. </span>Named Arguments</a>
      </li>
      <li>
        <a href='chap60.html#leanpub-auto-variable-arguments-varargs'><span class="section-number">53. </span>Variable Arguments (Varargs)</a>
      </li>
      <li>
        <a href='chap61.html#leanpub-auto-return-value'><span class="section-number">54. </span>Return value</a>
      </li>
      <li>
        <a href='chap62.html#leanpub-auto-throwing-an-exception'><span class="section-number">55. </span>Throwing an exception</a>
      </li>
      <li>
        <a href='chap63.html#leanpub-auto-documenting-a-method'><span class="section-number">56. </span>Documenting a method</a>
      </li>
      <li>
        <a href='chap64.html#leanpub-auto-techniques'><span class="section-number">57. </span>Techniques</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap65.html#leanpub-auto-closures'><span class="section-number">VII </span>Closures</a>
    <ul>
      <li>
        <a href='chap66.html#leanpub-auto-introducing-closures'><span class="section-number">58. </span>Introducing Closures</a>
      </li>
      <li>
        <a href='chap67.html#leanpub-auto-parameters-1'><span class="section-number">59. </span>Parameters</a>
      </li>
      <li>
        <a href='chap68.html#leanpub-auto-returning-values'><span class="section-number">60. </span>Returning Values</a>
      </li>
      <li>
        <a href='chap69.html#leanpub-auto-closures-as-method-parameters'><span class="section-number">61. </span>Closures as Method Parameters</a>
      </li>
      <li>
        <a href='chap70.html#leanpub-auto-loops-and-closures'><span class="section-number">62. </span>Loops and closures</a>
      </li>
      <li>
        <a href='chap71.html#leanpub-auto-useful-methods-that-use-closures'><span class="section-number">63. </span>Useful Methods That Use Closures</a>
      </li>
      <li>
        <a href='chap72.html#leanpub-auto-closure-scope'><span class="section-number">64. </span>Closure scope</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap73.html#leanpub-auto-object-oriented-programming'><span class="section-number">VIII </span>Object-oriented programming</a>
    <ul>
      <li>
        <a href='chap74.html#leanpub-auto-expando'><span class="section-number">65. </span>Expando</a>
      </li>
      <li>
        <a href='chap75.html#leanpub-auto-the-basics-of-oo'><span class="section-number">66. </span>The basics of OO</a>
      </li>
      <li>
        <a href='chap76.html#leanpub-auto-colophon'>Colophon</a>
      </li>
    </ul>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main">
<h2 id="leanpub-auto-equality-operators"><span class="section-number">23. </span>Equality Operators</h2>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Used to determine if two things match</p>

    </td>
  </tr>
  </tbody>
</table><p>The equality operators return a boolean (<code>true</code> or <code>false</code>) result from a comparison. </p>


<p class="table-title">The equality operators</p>

<table>
  <thead>
    <tr><th style="text-align: center">Operator</th>
      <th style="text-align: left">Name</th>
    </tr>
  </thead>
  <tbody>
    <tr><td style="text-align: center">==</td>
      <td style="text-align: left">Equal to</td>
    </tr>
    <tr><td style="text-align: center">!=</td>
      <td style="text-align: left">Not equal to</td>
    </tr>
  </tbody>
</table><p>All of the following comparisons evaluate as being <code>true</code>:</p>

<div class="code-block">
  <p class="codeblock-title">Some equality checks</p>

  <hr /><div class="highlight"><pre><code class="n">assert</code> <code class="o">-</code><code class="mi">99</code> <code class="o">==</code> <code class="o">-</code><code class="mi">99</code>
<code class="n">assert</code> <code class="err">'</code><code class="n">koala</code><code class="err">'</code> <code class="o">==</code> <code class="err">'</code><code class="n">koala</code><code class="err">'</code>
<code class="n">assert</code> <code class="err">'</code><code class="n">cat</code><code class="err">'</code> <code class="o">!=</code> <code class="err">'</code><code class="n">dog</code><code class="err">'</code>
<code class="n">assert</code> <code class="mi">6</code> <code class="o">!=</code> <code class="mi">7</code>

<code class="n">def</code> <code class="n">domesticAnimal</code> <code class="o">=</code> <code class="err">'</code><code class="n">dog</code><code class="err">'</code>
<code class="n">def</code> <code class="n">wildAnimal</code> <code class="o">=</code> <code class="err">'</code><code class="n">lion</code><code class="err">'</code>
<code class="n">assert</code> <code class="n">domesticAnimal</code> <code class="o">!=</code> <code class="n">wildAnimal</code>

<code class="n">def</code> <code class="n">str1</code> <code class="o">=</code> <code class="err">'</code><code class="n">Hello</code><code class="err">'</code>
<code class="n">def</code> <code class="n">str2</code> <code class="o">=</code> <code class="err">'</code><code class="n">Hello</code><code class="err">'</code>
<code class="n">assert</code> <code class="n">str1</code> <code class="o">==</code> <code class="n">str2</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-what-is-equality">What Is Equality?</h3>

<p>Equality can be a little tricky - both for Groovy and humanity. Think about the statement “Hey cool, we have the same car!”. This could mean that we have the same make and model but different instances of a car <em>or</em> it could mean that we share a car. </p>

<p>For those coming from a Java background, <code>==</code> is used to determine if the two variables reference the same instance and the <code>equals</code> method is used to determine if two variables are equivalent. Groovy conflates <code>==</code> and <code>equals</code> to perform the same comparison.</p>

<p>The <code>is</code> method performs the Groovy equivalent of Java’s <code>==</code> and returns <code>true</code> if two variables refer to the same instance of an object</p>

<div class="code-block">
  <p class="codeblock-title">Using <code>is</code> and <code>==</code></p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">obj1</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Object</code><code class="p">()</code>
<code class="n">def</code> <code class="n">obj2</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Object</code><code class="p">()</code>
<code class="n">def</code> <code class="n">obj3</code> <code class="o">=</code> <code class="n">obj1</code>

<code class="n">assert</code> <code class="n">obj1</code><code class="p">.</code><code class="n">is</code><code class="p">(</code><code class="n">obj3</code><code class="p">)</code>
<code class="n">assert</code> <code class="o">!</code> <code class="n">obj1</code><code class="p">.</code><code class="n">is</code><code class="p">(</code><code class="n">obj2</code><code class="p">)</code>

<code class="n">assert</code> <code class="n">obj1</code> <code class="o">!=</code> <code class="n">obj2</code>
<code class="n">assert</code> <code class="n">obj1</code> <code class="o">==</code> <code class="n">obj3</code>

<code class="n">assert</code> <code class="o">!</code> <code class="n">obj1</code><code class="p">.</code><code class="n">equals</code><code class="p">(</code><code class="n">obj2</code><code class="p">)</code>
<code class="n">assert</code> <code class="n">obj1</code><code class="p">.</code><code class="n">equals</code><code class="p">(</code><code class="n">obj3</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-precedence">Precedence</h3>
<p>In the following example, the equality operator (<code>!=</code>) is evaluated before the assignment operator (<code>=</code>), resulting in the value of <code>truth</code> being the boolean value <code>true</code>:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">truth</code> <code class="o">=</code> <code class="err">'</code><code class="n">cats</code><code class="err">'</code> <code class="o">!=</code> <code class="err">'</code><code class="n">dogs</code><code class="err">'</code>
<code class="n">assert</code> <code class="n">truth</code> <code class="o">==</code> <code class="nb">true</code>
</pre></div>

</div>

<h3 id="leanpub-auto-overloading-equality">Overloading Equality</h3>

<p>It is possible to define a custom implementation of <code>==</code> by overriding the <code>equals(Object obj)</code> method. This can be handy if your object has a simple method for determining equality, such as comparing staff members by their ID:</p>

<div class="code-block">
  <p class="codeblock-title">Overloading <code>==</code></p>

  <hr /><div class="highlight"><pre><code class="n">class</code> <code class="n">StaffMember</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">id</code>
    
    <code class="err">@</code><code class="n">Override</code>
    <code class="n">boolean</code> <code class="n">equals</code><code class="p">(</code><code class="n">obj</code><code class="p">)</code> <code class="p">{</code>
        <code class="k">if</code> <code class="p">(</code><code class="n">this</code><code class="p">.</code><code class="n">id</code> <code class="o">==</code> <code class="n">obj</code><code class="p">.</code><code class="n">id</code><code class="p">)</code> <code class="p">{</code>
            <code class="k">return</code> <code class="nb">true</code>
        <code class="p">}</code> <code class="k">else</code> <code class="p">{</code>
            <code class="k">return</code> <code class="nb">false</code> 
        <code class="p">}</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">fred</code> <code class="o">=</code> <code class="n">new</code> <code class="n">StaffMember</code><code class="p">(</code><code class="n">id</code><code class="o">:</code> <code class="mi">12</code><code class="p">)</code>
<code class="n">def</code> <code class="n">jan</code> <code class="o">=</code> <code class="n">new</code> <code class="n">StaffMember</code><code class="p">(</code><code class="n">id</code><code class="o">:</code> <code class="mi">47</code><code class="p">)</code>
<code class="n">def</code> <code class="n">janet</code> <code class="o">=</code> <code class="n">new</code> <code class="n">StaffMember</code><code class="p">(</code><code class="n">id</code><code class="o">:</code> <code class="mi">47</code><code class="p">)</code>

<code class="n">assert</code> <code class="n">fred</code> <code class="o">!=</code> <code class="n">jan</code>
<code class="n">assert</code> <code class="n">jan</code> <code class="o">==</code> <code class="n">janet</code>
</pre></div>

  <hr /></div>

<p>The Groovy package <code>groovy.transform</code> provides a handy annotation that generates an <code>equals</code> implementation which compares the object’s properties. This reduces the previous <code>StaffMember</code> class to even fewer lines of code:</p>

<div class="code-block">
  <p class="codeblock-title">Using the built-n <code>EqualsAndHashCode</code></p>

  <hr /><div class="highlight"><pre><code class="err">@</code><code class="n">groovy</code><code class="p">.</code><code class="n">transform</code><code class="p">.</code><code class="n">EqualsAndHashCode</code>
<code class="n">class</code> <code class="n">StaffMember</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">id</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">fred</code> <code class="o">=</code> <code class="n">new</code> <code class="n">StaffMember</code><code class="p">(</code><code class="n">id</code><code class="o">:</code> <code class="mi">12</code><code class="p">)</code>
<code class="n">def</code> <code class="n">jan</code> <code class="o">=</code> <code class="n">new</code> <code class="n">StaffMember</code><code class="p">(</code><code class="n">id</code><code class="o">:</code> <code class="mi">47</code><code class="p">)</code>
<code class="n">def</code> <code class="n">janet</code> <code class="o">=</code> <code class="n">new</code> <code class="n">StaffMember</code><code class="p">(</code><code class="n">id</code><code class="o">:</code> <code class="mi">47</code><code class="p">)</code>

<code class="n">assert</code> <code class="n">fred</code> <code class="o">!=</code> <code class="n">jan</code>
<code class="n">assert</code> <code class="n">jan</code> <code class="o">==</code> <code class="n">janet</code>
</pre></div>

  <hr /></div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-hash-codes">Hash codes</h3>
  <p>The <code>HashCode</code> aspect to the annotation indicates that the <code>hashCode</code> method is overridden. This method generates a hash code<sup id="fnref-hash"><a href="chap27.html#fn-hash" rel="footnote">1</a></sup> that aids in identifying an instance of the class.</p>

    </td>
  </tr>
  </tbody>
</table><div class="footnotes">
  <ol><li id="fn-hash">See <a href="http://en.wikipedia.org/wiki/Java_hashCode()">http://en.wikipedia.org/wiki/Java_hashCode()</a><a href="chap27.html#fnref-hash" rev="footnote">↩</a></li>
  </ol></div>
</div>
</body>
</html>
