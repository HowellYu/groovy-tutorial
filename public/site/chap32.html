<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>28. Bitwise Operators</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div id="leanpub-toc">
<h2></h2>
<ol class="toc has-parts">
<ul class='toc has-parts'>
  <li>
    <ul>
      <li>
        <a href='chap00.html#leanpub-auto-introduction'>Introduction</a>
      </li>
      <li>
        <a href='chap01.html#leanpub-auto-legal-notices'>Legal Notices</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-getting-started'><span class="section-number">I </span>Getting started</a>
    <ul>
      <li>
        <a href='chap03.html#leanpub-auto-installing-groovy'><span class="section-number">1. </span>Installing Groovy</a>
      </li>
      <li>
        <a href='chap04.html#leanpub-auto-your-first-lines-of-groovy'><span class="section-number">2. </span>Your first lines of Groovy</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-comments'><span class="section-number">3. </span>Comments</a>
      </li>
      <li>
        <a href='chap06.html#leanpub-auto-statements'><span class="section-number">4. </span>Statements</a>
      </li>
      <li>
        <a href='chap07.html#leanpub-auto-the-assert-statement'><span class="section-number">5. </span>The <code>assert</code> statement</a>
      </li>
      <li>
        <a href='chap08.html#leanpub-auto-reserved-words'><span class="section-number">6. </span>Reserved Words</a>
      </li>
      <li>
        <a href='chap09.html#leanpub-auto-packages'><span class="section-number">7. </span>Packages</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-variables'><span class="section-number">II </span>Variables</a>
    <ul>
      <li>
        <a href='chap11.html#leanpub-auto-declaring-variables'><span class="section-number">8. </span>Declaring Variables</a>
      </li>
      <li>
        <a href='chap12.html#leanpub-auto-data-types'><span class="section-number">9. </span>Data Types</a>
      </li>
      <li>
        <a href='chap13.html#leanpub-auto-objects'><span class="section-number">10. </span>Objects</a>
      </li>
      <li>
        <a href='chap14.html#leanpub-auto-booleans'><span class="section-number">11. </span>Booleans</a>
      </li>
      <li>
        <a href='chap15.html#leanpub-auto-numbers'><span class="section-number">12. </span>Numbers</a>
      </li>
      <li>
        <a href='chap16.html#leanpub-auto-strings'><span class="section-number">13. </span>Strings</a>
      </li>
      <li>
        <a href='chap17.html#leanpub-auto-collections'><span class="section-number">14. </span>Collections</a>
      </li>
      <li>
        <a href='chap18.html#leanpub-auto-arrays'><span class="section-number">15. </span>Arrays</a>
      </li>
      <li>
        <a href='chap19.html#leanpub-auto-ranges'><span class="section-number">16. </span>Ranges</a>
      </li>
      <li>
        <a href='chap20.html#leanpub-auto-regular-expressions'><span class="section-number">17. </span>Regular Expressions</a>
      </li>
      <li>
        <a href='chap21.html#leanpub-auto-data-types-1'><span class="section-number">18. </span>Data types</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap22.html#leanpub-auto-operators'><span class="section-number">III </span>Operators</a>
    <ul>
      <li>
        <a href='chap23.html#leanpub-auto-operators-1'><span class="section-number">19. </span>Operators</a>
      </li>
      <li>
        <a href='chap24.html#leanpub-auto-numeric-operators'><span class="section-number">20. </span>Numeric Operators</a>
      </li>
      <li>
        <a href='chap25.html#leanpub-auto-simple-assignment-operator'><span class="section-number">21. </span>Simple Assignment Operator</a>
      </li>
      <li>
        <a href='chap26.html#leanpub-auto-the-complement-operator'><span class="section-number">22. </span>The Complement Operator</a>
      </li>
      <li>
        <a href='chap27.html#leanpub-auto-equality-operators'><span class="section-number">23. </span>Equality Operators</a>
      </li>
      <li>
        <a href='chap28.html#leanpub-auto-arithmetic-operators'><span class="section-number">24. </span>Arithmetic operators</a>
      </li>
      <li>
        <a href='chap29.html#leanpub-auto-relational-operators'><span class="section-number">25. </span>Relational Operators</a>
      </li>
      <li>
        <a href='chap30.html#leanpub-auto-increment-and-decrement-operators'><span class="section-number">26. </span>Increment and Decrement Operators</a>
      </li>
      <li>
        <a href='chap31.html#leanpub-auto-conditional-operators'><span class="section-number">27. </span>Conditional Operators</a>
      </li>
      <li>
        <a href='chap32.html#leanpub-auto-bitwise-operators'><span class="section-number">28. </span>Bitwise Operators</a>
      </li>
      <li>
        <a href='chap33.html#leanpub-auto-compound-assignment-operators'><span class="section-number">29. </span>Compound Assignment Operators</a>
      </li>
      <li>
        <a href='chap34.html#leanpub-auto-string-operators-1'><span class="section-number">30. </span>String Operators</a>
      </li>
      <li>
        <a href='chap35.html#leanpub-auto-regular-expression-operators-1'><span class="section-number">31. </span>Regular Expression Operators</a>
      </li>
      <li>
        <a href='chap36.html#leanpub-auto-collection-operators-1'><span class="section-number">32. </span>Collection operators</a>
      </li>
      <li>
        <a href='chap37.html#leanpub-auto-object-operators-1'><span class="section-number">33. </span>Object Operators</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap38.html#leanpub-auto-control-flow-statements'><span class="section-number">IV </span>Control Flow Statements</a>
    <ul>
      <li>
        <a href='chap39.html#leanpub-auto-introduction-1'><span class="section-number">34. </span>Introduction</a>
      </li>
      <li>
        <a href='chap40.html#leanpub-auto-blocks'><span class="section-number">35. </span>Blocks</a>
      </li>
      <li>
        <a href='chap41.html#leanpub-auto-the-if-statement'><span class="section-number">36. </span>The <code>if</code> Statement</a>
      </li>
      <li>
        <a href='chap42.html#leanpub-auto-the-switch-statement'><span class="section-number">37. </span>The <code>switch</code> Statement</a>
      </li>
      <li>
        <a href='chap43.html#leanpub-auto-the-for-loop'><span class="section-number">38. </span>The <code>for</code> Loop</a>
      </li>
      <li>
        <a href='chap44.html#leanpub-auto-the-while-loop'><span class="section-number">39. </span>The <code>while</code> loop</a>
      </li>
      <li>
        <a href='chap45.html#leanpub-auto-branching-statements'><span class="section-number">40. </span>Branching statements</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap46.html#leanpub-auto-exceptions'><span class="section-number">V </span>Exceptions</a>
    <ul>
      <li>
        <a href='chap47.html#leanpub-auto-the-throwable-family'><span class="section-number">41. </span>The Throwable Family</a>
      </li>
      <li>
        <a href='chap48.html#leanpub-auto-common-exceptions'><span class="section-number">42. </span>Common Exceptions</a>
      </li>
      <li>
        <a href='chap49.html#leanpub-auto-anatomy-of-an-exception'><span class="section-number">43. </span>Anatomy of an Exception</a>
      </li>
      <li>
        <a href='chap50.html#leanpub-auto-try-catch-finally'><span class="section-number">44. </span>Try-Catch-Finally</a>
      </li>
      <li>
        <a href='chap51.html#leanpub-auto-how-much-should-we-try'><span class="section-number">45. </span>How Much Should We try?</a>
      </li>
      <li>
        <a href='chap52.html#leanpub-auto-causing-an-exception'><span class="section-number">46. </span>Causing an Exception</a>
      </li>
      <li>
        <a href='chap53.html#leanpub-auto-catching-errors'><span class="section-number">47. </span>Catching Errors</a>
      </li>
      <li>
        <a href='chap54.html#leanpub-auto-methods-and-exceptions'><span class="section-number">48. </span>Methods and Exceptions</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap55.html#leanpub-auto-methods'><span class="section-number">VI </span>Methods</a>
    <ul>
      <li>
        <a href='chap56.html#leanpub-auto-the-basics'><span class="section-number">49. </span>The Basics</a>
      </li>
      <li>
        <a href='chap57.html#leanpub-auto-parameters'><span class="section-number">50. </span>Parameters</a>
      </li>
      <li>
        <a href='chap58.html#leanpub-auto-default-values-for-parameters'><span class="section-number">51. </span>Default Values for Parameters</a>
      </li>
      <li>
        <a href='chap59.html#leanpub-auto-named-arguments'><span class="section-number">52. </span>Named Arguments</a>
      </li>
      <li>
        <a href='chap60.html#leanpub-auto-variable-arguments-varargs'><span class="section-number">53. </span>Variable Arguments (Varargs)</a>
      </li>
      <li>
        <a href='chap61.html#leanpub-auto-return-value'><span class="section-number">54. </span>Return value</a>
      </li>
      <li>
        <a href='chap62.html#leanpub-auto-throwing-an-exception'><span class="section-number">55. </span>Throwing an exception</a>
      </li>
      <li>
        <a href='chap63.html#leanpub-auto-documenting-a-method'><span class="section-number">56. </span>Documenting a method</a>
      </li>
      <li>
        <a href='chap64.html#leanpub-auto-techniques'><span class="section-number">57. </span>Techniques</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap65.html#leanpub-auto-closures'><span class="section-number">VII </span>Closures</a>
    <ul>
      <li>
        <a href='chap66.html#leanpub-auto-introducing-closures'><span class="section-number">58. </span>Introducing Closures</a>
      </li>
      <li>
        <a href='chap67.html#leanpub-auto-parameters-1'><span class="section-number">59. </span>Parameters</a>
      </li>
      <li>
        <a href='chap68.html#leanpub-auto-returning-values'><span class="section-number">60. </span>Returning Values</a>
      </li>
      <li>
        <a href='chap69.html#leanpub-auto-closures-as-method-parameters'><span class="section-number">61. </span>Closures as Method Parameters</a>
      </li>
      <li>
        <a href='chap70.html#leanpub-auto-loops-and-closures'><span class="section-number">62. </span>Loops and closures</a>
      </li>
      <li>
        <a href='chap71.html#leanpub-auto-useful-methods-that-use-closures'><span class="section-number">63. </span>Useful Methods That Use Closures</a>
      </li>
      <li>
        <a href='chap72.html#leanpub-auto-closure-scope'><span class="section-number">64. </span>Closure scope</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap73.html#leanpub-auto-object-oriented-programming'><span class="section-number">VIII </span>Object-oriented programming</a>
    <ul>
      <li>
        <a href='chap74.html#leanpub-auto-expando'><span class="section-number">65. </span>Expando</a>
      </li>
      <li>
        <a href='chap75.html#leanpub-auto-the-basics-of-oo'><span class="section-number">66. </span>The basics of OO</a>
      </li>
      <li>
        <a href='chap76.html#leanpub-auto-colophon'>Colophon</a>
      </li>
    </ul>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main">
<h2 id="leanpub-auto-bitwise-operators"><span class="section-number">28. </span>Bitwise Operators</h2>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>They’re bit-oriented and not so much “wise”</p>

    </td>
  </tr>
  </tbody>
</table><p>I have to admit that I haven’t seen many instances of bitwise manipulation since my university assignments. That’s not to say they’re not used or not important - I’ve just not done a lot of programming that’s called on bitwise operators.</p>


<p class="table-title">The bitwise operators</p>

<table>
  <thead>
    <tr><th style="text-align: center">Operator</th>
      <th style="text-align: left">Name</th>
    </tr>
  </thead>
  <tbody>
    <tr><td style="text-align: center">&amp;</td>
      <td style="text-align: left">Bitwise AND</td>
    </tr>
    <tr><td style="text-align: center">|</td>
      <td style="text-align: left">Bitwise OR</td>
    </tr>
    <tr><td style="text-align: center">^</td>
      <td style="text-align: left">Bitwise XOR<sup id="fnref-xor"><a href="chap32.html#fn-xor" rel="footnote">1</a></sup></td>
    </tr>
    <tr><td style="text-align: center">~</td>
      <td style="text-align: left">Bitwise negation (Not)</td>
    </tr>
    <tr><td style="text-align: center">&gt;&gt;</td>
      <td style="text-align: left">Right shift</td>
    </tr>
    <tr><td style="text-align: center">&gt;&gt;&gt;</td>
      <td style="text-align: left">Right shift unsigned</td>
    </tr>
    <tr><td style="text-align: center">&lt;&lt;</td>
      <td style="text-align: left">Left shift</td>
    </tr>
  </tbody>
</table><h3 id="leanpub-auto-truth-tables">Truth Tables</h3>

<p>Truth tables describe the results of various logical operations. The truth tables below illustrate the NOT, AND, OR and XOR logic.</p>

<table>
  <thead>
    <tr><th>Not (<code>~</code>)</th>
      <th style="text-align: center">Result</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>Not 0</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr><td>Not 1</td>
      <td style="text-align: center">1</td>
    </tr>
  </tbody>
</table><table>
  <thead>
    <tr><th>And (<code>&amp;</code>)</th>
      <th style="text-align: center">Result</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>0 AND 0</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr><td>0 AND 1</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr><td>1 AND 0</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr><td>1 AND 1</td>
      <td style="text-align: center">1</td>
    </tr>
  </tbody>
</table><table>
  <thead>
    <tr><th>Or (<code>|</code>)</th>
      <th style="text-align: center">Result</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>0 OR 0</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr><td>0 OR 1</td>
      <td style="text-align: center">1</td>
    </tr>
    <tr><td>1 OR 0</td>
      <td style="text-align: center">1</td>
    </tr>
    <tr><td>1 OR 1</td>
      <td style="text-align: center">1</td>
    </tr>
  </tbody>
</table><table>
  <thead>
    <tr><th>Xor (<code>^</code>)</th>
      <th style="text-align: center">Result</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>0 XOR 0</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr><td>0 XOR 1</td>
      <td style="text-align: center">1</td>
    </tr>
    <tr><td>1 XOR 0</td>
      <td style="text-align: center">1</td>
    </tr>
    <tr><td>1 XOR 1</td>
      <td style="text-align: center">0</td>
    </tr>
  </tbody>
</table><h3 id="leanpub-auto-flag-example">Flag example</h3>

<p>The unix file permission scheme uses binary flags for read, write and execute permissions on files. You see them when you run <code>ls -l</code> as something like <code>-rwxr-xr-x</code>. Essentially, this is a set of flags where binary <code>1</code> turns on that permission and binary <code>0</code> turns it off. The three elements I’ll look at here are read (r), write (w) and execute (x):</p>

<ul><li>READ has the binary value 001 (decimal 1)</li>
  <li>WRITE has the binary value 010 (decimal 2)</li>
  <li>EXECUTE has the binary value 100 (decimal 4)</li>
</ul><p>Let’s look at the example code first and then I’ll discuss it:</p>

<div class="code-block">
  <p class="codeblock-title">A bitwise example</p>

  <hr /><div class="highlight"><pre><code class="c1">//Create global variables for the permissions</code>
<code class="no">READ</code> <code class="o">=</code> <code class="mh">0</code><code class="n">b100</code>      
<code class="no">WRITE</code> <code class="o">=</code> <code class="mh">0</code><code class="n">b010</code>     
<code class="no">EXECUTE</code> <code class="o">=</code> <code class="mh">0</code><code class="n">b001</code>  

<code class="n">println</code> <code class="p">'</code><code class="n">Checking</code> <code class="k">for</code> <code class="nl">READ:</code><code class="p">'</code>
<code class="n">checkFile</code><code class="p">(</code><code class="no">READ</code><code class="p">)</code>

<code class="n">println</code> <code class="p">'</code><code class="n">Checking</code> <code class="k">for</code> <code class="nl">WRITE:</code><code class="p">'</code>
<code class="n">checkFile</code><code class="p">(</code><code class="no">WRITE</code><code class="p">)</code>

<code class="n">println</code> <code class="p">'</code><code class="n">Checking</code> <code class="k">for</code> <code class="no">READ</code> <code class="k">or</code> <code class="nl">EXECUTE:</code><code class="p">'</code>
<code class="n">checkFile</code><code class="p">(</code><code class="no">READ</code> <code class="o">|</code> <code class="no">EXECUTE</code><code class="p">)</code>

<code class="n">def</code> <code class="n">checkFile</code> <code class="p">(</code><code class="n">check</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">fileList</code> <code class="o">=</code> <code class="p">[</code><code class="o">:</code><code class="p">]</code>
    <code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="n">in</code> <code class="mf">0..7</code><code class="p">)</code> <code class="p">{</code>
        <code class="n">fileList</code><code class="p">[</code><code class="s">"File $i"</code><code class="p">]</code> <code class="o">=</code> <code class="n">i</code>
    <code class="p">}</code>
    
    <code class="k">for</code> <code class="p">(</code><code class="n">file</code> <code class="n">in</code> <code class="n">fileList</code><code class="p">)</code> <code class="p">{</code>
        <code class="k">if</code> <code class="p">(</code><code class="n">file</code><code class="p">.</code><code class="n">value</code> <code class="o">&amp;</code> <code class="n">check</code><code class="p">)</code> <code class="p">{</code>
            <code class="n">println</code> <code class="s">"$file.key (${displayFilePermission(file.value)}) meets crit\</code>
<code class="s">eria"</code>
        <code class="p">}</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">displayFilePermission</code><code class="p">(</code><code class="n">val</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">retval</code> <code class="o">=</code> <code class="s">""</code>
    <code class="n">retval</code> <code class="o">&lt;&lt;=</code> <code class="p">(</code><code class="no">READ</code> <code class="o">&amp;</code> <code class="n">val</code><code class="p">)</code><code class="o">?</code> <code class="sc">'r'</code><code class="o">:</code> <code class="sc">'-'</code>
    <code class="n">retval</code> <code class="o">&lt;&lt;=</code> <code class="p">(</code><code class="no">WRITE</code> <code class="o">&amp;</code> <code class="n">val</code><code class="p">)</code><code class="o">?</code> <code class="sc">'w'</code><code class="o">:</code> <code class="sc">'-'</code>
    <code class="n">retval</code> <code class="o">&lt;&lt;=</code> <code class="p">(</code><code class="no">EXECUTE</code> <code class="o">&amp;</code> <code class="n">val</code><code class="p">)</code><code class="o">?</code> <code class="sc">'x'</code><code class="o">:</code> <code class="sc">'-'</code>
    <code class="k">return</code> <code class="n">retval</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<table class="warning sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_warning.png" alt="warning" width="50px" /></td>
    <td>
      <p>Please note that I’m not really happy with my example (above) but it’s the best I could come up with.</p>

    </td>
  </tr>
  </tbody>
</table><p>First up I set the flags for each of the three elements using the <code>0b</code> prefix to indicate binary numbers:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">READ</code> <code class="o">=</code> <code class="mi">0</code><code class="n">b100</code>      
<code class="n">WRITE</code> <code class="o">=</code> <code class="mi">0</code><code class="n">b010</code>     
<code class="n">EXECUTE</code> <code class="o">=</code> <code class="mi">0</code><code class="n">b001</code>
</pre></div>

</div>

<p>I then call my <code>checkFile</code> method to see which permissions match what I’m seeking. The third call to <code>checkFile</code> is the more interesting as I OR two flags: <code>READ | EXECUTE</code>. If I OR the READ flag (<code>100</code>) with the  EXECUTE flag (<code>001</code>) I get <code>101</code> (decimal 5):</p>

<table>
  <thead>
    <tr><th>Value</th>
      <th style="text-align: center">Binary</th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center">Operator</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>READ</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">OR</td>
    </tr>
    <tr><td>EXECUTE</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr><td><strong>Result</strong></td>
      <td style="text-align: center"><strong>1</strong></td>
      <td style="text-align: center"><strong>0</strong></td>
      <td style="text-align: center"><strong>1</strong></td>
      <td style="text-align: center"><strong>=</strong></td>
    </tr>
  </tbody>
</table><p>The <code>checkFile</code> method does the checking for me. The first part of the method just creates a set of possible files - enough to cover the various variations of the <code>rwx</code> elements:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">fileList</code> <code class="o">=</code> <code class="p">[</code><code class="o">:</code><code class="p">]</code>
<code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="n">in</code> <code class="mf">0..7</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">fileList</code><code class="p">[</code><code class="s">"File $i"</code><code class="p">]</code> <code class="o">=</code> <code class="n">i</code>
<code class="p">}</code>
</pre></div>

</div>

<table class="warning sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_warning.png" alt="warning" width="50px" /></td>
    <td>
      <p>Creating <code>fileList</code> each time the method is called is inefficient - that’s why copying tutorial code into your production system is a bad idea :)</p>

    </td>
  </tr>
  </tbody>
</table><p>It’s the second half of <code>checkFile</code> that does the important stuff:</p>

<div class="code-block">
<div class="highlight"><pre>for (file in fileList) {
    if (file.value <code class="err">&amp;</code> check) {
        println "<code class="nv">$file.key</code> (<code class="cp">${</code><code class="n">displayFilePermission</code><code class="p">(</code><code class="nb">file</code><code class="o">.</code><code class="n">value</code><code class="p">)</code><code class="cp">}</code>) meets criteria"
    }
}
</pre></div>

</div>

<p>The <code>if (file.value &amp; check)</code> performs an AND on the check requested (e.g. <code>READ</code>) and the file’s permissions. If the AND returns a result greater than <code>0</code> then the file’s permission match the <code>check</code>. For example, a file with execute permission (<code>--x</code>) meets the <code>READ | EXECUTE</code> criteria:</p>

<table>
  <thead>
    <tr><th style="text-align: center">Item</th>
      <th>Value</th>
      <th style="text-align: center">Binary</th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center">Operator</th>
    </tr>
  </thead>
  <tbody>
    <tr><td style="text-align: center"><code>check</code></td>
      <td>READ | EXECUTE</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">AND</td>
    </tr>
    <tr><td style="text-align: center"><code>file</code></td>
      <td><code>--x</code></td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr><td style="text-align: center"> </td>
      <td><strong>Result</strong></td>
      <td style="text-align: center"><strong>0</strong></td>
      <td style="text-align: center"><strong>0</strong></td>
      <td style="text-align: center"><strong>1</strong></td>
      <td style="text-align: center"><strong>=</strong></td>
    </tr>
  </tbody>
</table><p>A file with read and write permission (<code>rw-</code>) also matches:</p>

<table>
  <thead>
    <tr><th style="text-align: center">Item</th>
      <th>Value</th>
      <th style="text-align: center">Binary</th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center">Operator</th>
    </tr>
  </thead>
  <tbody>
    <tr><td style="text-align: center"><code>check</code></td>
      <td>READ | EXECUTE</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">AND</td>
    </tr>
    <tr><td style="text-align: center"><code>file</code></td>
      <td><code>rw-</code></td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr><td style="text-align: center"> </td>
      <td><strong>Result</strong></td>
      <td style="text-align: center"><strong>1</strong></td>
      <td style="text-align: center"><strong>0</strong></td>
      <td style="text-align: center"><strong>0</strong></td>
      <td style="text-align: center"><strong>=</strong></td>
    </tr>
  </tbody>
</table><p>However, a file with only the write permission (<code>-w-</code>) will not successfully match:</p>

<table>
  <thead>
    <tr><th style="text-align: center">Item</th>
      <th>Value</th>
      <th style="text-align: center">Binary</th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center">Operator</th>
    </tr>
  </thead>
  <tbody>
    <tr><td style="text-align: center"><code>check</code></td>
      <td>READ | EXECUTE</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">AND</td>
    </tr>
    <tr><td style="text-align: center"><code>file</code></td>
      <td><code>-w-</code></td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr><td style="text-align: center"> </td>
      <td><strong>Result</strong></td>
      <td style="text-align: center"><strong>0</strong></td>
      <td style="text-align: center"><strong>0</strong></td>
      <td style="text-align: center"><strong>0</strong></td>
      <td style="text-align: center"><strong>=</strong></td>
    </tr>
  </tbody>
</table><p>Lastly, the <code>displayFilePermission</code> method just helps me display the permissions in the <code>rwx</code> format.</p>

<p>Some other quick points follow:</p>

<p>I can negate (<code>~</code>) a value to indicate that I want the inverse of a value, rather than ORing the other options individually:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">println</code> <code class="err">'</code><code class="n">Checking</code> <code class="k">for</code> <code class="n">WRITE</code> <code class="n">or</code> <code class="n">EXECUTE</code><code class="o">:</code><code class="err">'</code>
<code class="n">checkFile</code><code class="p">(</code><code class="o">~</code><code class="n">READ</code><code class="p">)</code>
</pre></div>

</div>

<p>I can XOR (<code>^</code>) to aggregate the permissions but ignore intersections (where both variables contain the same flag): </p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">file1</code> <code class="o">=</code> <code class="n">READ</code> <code class="o">|</code> <code class="n">EXECUTE</code>
<code class="n">def</code> <code class="n">file2</code> <code class="o">=</code> <code class="n">WRITE</code> <code class="o">|</code> <code class="n">EXECUTE</code>
<code class="n">println</code> <code class="err">'</code><code class="n">File</code> <code class="mi">1</code><code class="o">:</code> <code class="err">'</code> <code class="o">&lt;&lt;</code> <code class="n">displayFilePermission</code><code class="p">(</code><code class="n">file1</code><code class="p">)</code>
<code class="n">println</code> <code class="err">'</code><code class="n">File</code> <code class="mi">2</code><code class="o">:</code> <code class="err">'</code> <code class="o">&lt;&lt;</code> <code class="n">displayFilePermission</code><code class="p">(</code><code class="n">file2</code><code class="p">)</code>
<code class="n">println</code> <code class="err">'</code><code class="n">Result</code><code class="o">:</code> <code class="err">'</code> <code class="o">&lt;&lt;</code> <code class="n">displayFilePermission</code><code class="p">(</code><code class="n">file1</code> <code class="o">^</code> <code class="n">file2</code><code class="p">)</code>
</pre></div>

</div>

<h3 id="leanpub-auto-shift-example">Shift Example</h3>

<p>Shifting just moves the bits in a binary to the left (<code>&lt;&lt;</code>) or to the right (<code>&gt;&gt;</code>), depending on the left-hand operand. If we take the following list as a starting point we can see how progressive shifts left change a value:</p>

<ul><li>0001 (binary) = 1 (decimal)</li>
  <li>0010 (binary) = 2 (decimal)</li>
  <li>0100 (binary) = 4 (decimal)</li>
  <li>1000 (binary) = 8 (decimal)</li>
</ul><p>With this is mind the following code demonstrates the left- and right-shift operators:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">assert</code> <code class="mi">2</code> <code class="o">&lt;&lt;</code> <code class="mi">1</code> <code class="o">==</code> <code class="mi">4</code>	<code class="c1">//Left-shift once</code>
<code class="n">assert</code> <code class="mi">2</code> <code class="o">&lt;&lt;</code> <code class="mi">2</code> <code class="o">==</code> <code class="mi">8</code>	<code class="c1">//Left-shift twice</code>
<code class="n">assert</code> <code class="mi">2</code> <code class="o">&gt;&gt;</code> <code class="mi">1</code> <code class="o">==</code> <code class="mi">1</code>	<code class="c1">//Right-shift once</code>
</pre></div>

</div>

<p>The code below displays a table in which each row represents a value that’s be left-shifted by one position more than the prior row:</p>

<div class="code-block">
  <p class="codeblock-title">A bit shifting example</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">value</code> <code class="o">=</code> <code class="mi">0</code><code class="n">b0000_0000_0000_0000_1111_1111</code>

<code class="n">println</code> <code class="err">'</code><code class="o">|</code> <code class="n">Shift</code>   <code class="o">|</code> <code class="n">Hex</code>      <code class="o">|</code> <code class="n">Decimal</code>  <code class="o">|</code> <code class="n">Octal</code>    <code class="o">|</code> <code class="n">Binary</code>                   <code class="o">|</code><code class="err">'</code>
<code class="n">println</code> <code class="err">'</code><code class="o">|---------|----------|----------|----------|--------------------------|</code><code class="err">'</code>
<code class="p">(</code><code class="mf">0..16</code><code class="p">).</code><code class="n">each</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">shifted</code> <code class="o">=</code> <code class="n">value</code> <code class="o">&lt;&lt;</code> <code class="n">it</code>
    <code class="n">def</code> <code class="n">hexDisplay</code> <code class="o">=</code> <code class="err">'</code><code class="mi">0</code><code class="n">x</code><code class="err">'</code> <code class="o">&lt;&lt;</code> <code class="n">Integer</code><code class="p">.</code><code class="n">toHexString</code><code class="p">(</code><code class="n">shifted</code><code class="p">).</code><code class="n">padLeft</code><code class="p">(</code><code class="mi">6</code><code class="p">,</code> <code class="sc">'0'</code><code class="p">)</code>
    <code class="n">def</code> <code class="n">binDisplay</code> <code class="o">=</code> <code class="n">Integer</code><code class="p">.</code><code class="n">toBinaryString</code><code class="p">(</code><code class="n">shifted</code><code class="p">).</code><code class="n">padLeft</code><code class="p">(</code><code class="mi">24</code><code class="p">,</code> <code class="sc">'0'</code><code class="p">)</code>
    <code class="n">def</code> <code class="n">decDisplay</code> <code class="o">=</code> <code class="s">"$shifted"</code><code class="p">.</code><code class="n">padLeft</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code> <code class="sc">' '</code><code class="p">)</code>
    <code class="n">def</code> <code class="n">octDisplay</code> <code class="o">=</code> <code class="n">Integer</code><code class="p">.</code><code class="n">toOctalString</code><code class="p">(</code><code class="n">shifted</code><code class="p">).</code><code class="n">padLeft</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code> <code class="sc">' '</code><code class="p">)</code>
    <code class="n">def</code> <code class="n">shiftDisplay</code> <code class="o">=</code> <code class="s">"$it"</code><code class="p">.</code><code class="n">padLeft</code><code class="p">(</code><code class="mi">7</code><code class="p">,</code> <code class="sc">' '</code><code class="p">)</code>
    <code class="n">println</code> <code class="s">"| $shiftDisplay | $hexDisplay | $decDisplay | $octDisplay | $binDis\</code>
<code class="s">play |"</code>
<code class="p">}</code>
<code class="n">println</code> <code class="err">'</code><code class="o">|---------|----------|----------|----------|--------------------------|</code><code class="err">'</code>
</pre></div>

  <hr /></div>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Whilst it may not be an overly useful example you can also see the methods for displaying numbers using different number systems (hexadecimal, octal, decimal and binary)</p>

    </td>
  </tr>
  </tbody>
</table><div class="footnotes">
  <ol><li id="fn-xor">Known as an Exclusive OR<a href="chap32.html#fnref-xor" rev="footnote">↩</a></li>
  </ol></div>
</div>
</body>
</html>
