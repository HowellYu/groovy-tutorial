<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>66. The basics of OO</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div id="leanpub-toc">
<h2></h2>
<ol class="toc has-parts">
<ul class='toc has-parts'>
  <li>
    <ul>
      <li>
        <a href='chap00.html#leanpub-auto-introduction'>Introduction</a>
      </li>
      <li>
        <a href='chap01.html#leanpub-auto-legal-notices'>Legal Notices</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-getting-started'><span class="section-number">I </span>Getting started</a>
    <ul>
      <li>
        <a href='chap03.html#leanpub-auto-installing-groovy'><span class="section-number">1. </span>Installing Groovy</a>
      </li>
      <li>
        <a href='chap04.html#leanpub-auto-your-first-lines-of-groovy'><span class="section-number">2. </span>Your first lines of Groovy</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-comments'><span class="section-number">3. </span>Comments</a>
      </li>
      <li>
        <a href='chap06.html#leanpub-auto-statements'><span class="section-number">4. </span>Statements</a>
      </li>
      <li>
        <a href='chap07.html#leanpub-auto-the-assert-statement'><span class="section-number">5. </span>The <code>assert</code> statement</a>
      </li>
      <li>
        <a href='chap08.html#leanpub-auto-reserved-words'><span class="section-number">6. </span>Reserved Words</a>
      </li>
      <li>
        <a href='chap09.html#leanpub-auto-packages'><span class="section-number">7. </span>Packages</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-variables'><span class="section-number">II </span>Variables</a>
    <ul>
      <li>
        <a href='chap11.html#leanpub-auto-declaring-variables'><span class="section-number">8. </span>Declaring Variables</a>
      </li>
      <li>
        <a href='chap12.html#leanpub-auto-data-types'><span class="section-number">9. </span>Data Types</a>
      </li>
      <li>
        <a href='chap13.html#leanpub-auto-objects'><span class="section-number">10. </span>Objects</a>
      </li>
      <li>
        <a href='chap14.html#leanpub-auto-booleans'><span class="section-number">11. </span>Booleans</a>
      </li>
      <li>
        <a href='chap15.html#leanpub-auto-numbers'><span class="section-number">12. </span>Numbers</a>
      </li>
      <li>
        <a href='chap16.html#leanpub-auto-strings'><span class="section-number">13. </span>Strings</a>
      </li>
      <li>
        <a href='chap17.html#leanpub-auto-collections'><span class="section-number">14. </span>Collections</a>
      </li>
      <li>
        <a href='chap18.html#leanpub-auto-arrays'><span class="section-number">15. </span>Arrays</a>
      </li>
      <li>
        <a href='chap19.html#leanpub-auto-ranges'><span class="section-number">16. </span>Ranges</a>
      </li>
      <li>
        <a href='chap20.html#leanpub-auto-regular-expressions'><span class="section-number">17. </span>Regular Expressions</a>
      </li>
      <li>
        <a href='chap21.html#leanpub-auto-data-types-1'><span class="section-number">18. </span>Data types</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap22.html#leanpub-auto-operators'><span class="section-number">III </span>Operators</a>
    <ul>
      <li>
        <a href='chap23.html#leanpub-auto-operators-1'><span class="section-number">19. </span>Operators</a>
      </li>
      <li>
        <a href='chap24.html#leanpub-auto-numeric-operators'><span class="section-number">20. </span>Numeric Operators</a>
      </li>
      <li>
        <a href='chap25.html#leanpub-auto-simple-assignment-operator'><span class="section-number">21. </span>Simple Assignment Operator</a>
      </li>
      <li>
        <a href='chap26.html#leanpub-auto-the-complement-operator'><span class="section-number">22. </span>The Complement Operator</a>
      </li>
      <li>
        <a href='chap27.html#leanpub-auto-equality-operators'><span class="section-number">23. </span>Equality Operators</a>
      </li>
      <li>
        <a href='chap28.html#leanpub-auto-arithmetic-operators'><span class="section-number">24. </span>Arithmetic operators</a>
      </li>
      <li>
        <a href='chap29.html#leanpub-auto-relational-operators'><span class="section-number">25. </span>Relational Operators</a>
      </li>
      <li>
        <a href='chap30.html#leanpub-auto-increment-and-decrement-operators'><span class="section-number">26. </span>Increment and Decrement Operators</a>
      </li>
      <li>
        <a href='chap31.html#leanpub-auto-conditional-operators'><span class="section-number">27. </span>Conditional Operators</a>
      </li>
      <li>
        <a href='chap32.html#leanpub-auto-bitwise-operators'><span class="section-number">28. </span>Bitwise Operators</a>
      </li>
      <li>
        <a href='chap33.html#leanpub-auto-compound-assignment-operators'><span class="section-number">29. </span>Compound Assignment Operators</a>
      </li>
      <li>
        <a href='chap34.html#leanpub-auto-string-operators-1'><span class="section-number">30. </span>String Operators</a>
      </li>
      <li>
        <a href='chap35.html#leanpub-auto-regular-expression-operators-1'><span class="section-number">31. </span>Regular Expression Operators</a>
      </li>
      <li>
        <a href='chap36.html#leanpub-auto-collection-operators-1'><span class="section-number">32. </span>Collection operators</a>
      </li>
      <li>
        <a href='chap37.html#leanpub-auto-object-operators-1'><span class="section-number">33. </span>Object Operators</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap38.html#leanpub-auto-control-flow-statements'><span class="section-number">IV </span>Control Flow Statements</a>
    <ul>
      <li>
        <a href='chap39.html#leanpub-auto-introduction-1'><span class="section-number">34. </span>Introduction</a>
      </li>
      <li>
        <a href='chap40.html#leanpub-auto-blocks'><span class="section-number">35. </span>Blocks</a>
      </li>
      <li>
        <a href='chap41.html#leanpub-auto-the-if-statement'><span class="section-number">36. </span>The <code>if</code> Statement</a>
      </li>
      <li>
        <a href='chap42.html#leanpub-auto-the-switch-statement'><span class="section-number">37. </span>The <code>switch</code> Statement</a>
      </li>
      <li>
        <a href='chap43.html#leanpub-auto-the-for-loop'><span class="section-number">38. </span>The <code>for</code> Loop</a>
      </li>
      <li>
        <a href='chap44.html#leanpub-auto-the-while-loop'><span class="section-number">39. </span>The <code>while</code> loop</a>
      </li>
      <li>
        <a href='chap45.html#leanpub-auto-branching-statements'><span class="section-number">40. </span>Branching statements</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap46.html#leanpub-auto-exceptions'><span class="section-number">V </span>Exceptions</a>
    <ul>
      <li>
        <a href='chap47.html#leanpub-auto-the-throwable-family'><span class="section-number">41. </span>The Throwable Family</a>
      </li>
      <li>
        <a href='chap48.html#leanpub-auto-common-exceptions'><span class="section-number">42. </span>Common Exceptions</a>
      </li>
      <li>
        <a href='chap49.html#leanpub-auto-anatomy-of-an-exception'><span class="section-number">43. </span>Anatomy of an Exception</a>
      </li>
      <li>
        <a href='chap50.html#leanpub-auto-try-catch-finally'><span class="section-number">44. </span>Try-Catch-Finally</a>
      </li>
      <li>
        <a href='chap51.html#leanpub-auto-how-much-should-we-try'><span class="section-number">45. </span>How Much Should We try?</a>
      </li>
      <li>
        <a href='chap52.html#leanpub-auto-causing-an-exception'><span class="section-number">46. </span>Causing an Exception</a>
      </li>
      <li>
        <a href='chap53.html#leanpub-auto-catching-errors'><span class="section-number">47. </span>Catching Errors</a>
      </li>
      <li>
        <a href='chap54.html#leanpub-auto-methods-and-exceptions'><span class="section-number">48. </span>Methods and Exceptions</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap55.html#leanpub-auto-methods'><span class="section-number">VI </span>Methods</a>
    <ul>
      <li>
        <a href='chap56.html#leanpub-auto-the-basics'><span class="section-number">49. </span>The Basics</a>
      </li>
      <li>
        <a href='chap57.html#leanpub-auto-parameters'><span class="section-number">50. </span>Parameters</a>
      </li>
      <li>
        <a href='chap58.html#leanpub-auto-default-values-for-parameters'><span class="section-number">51. </span>Default Values for Parameters</a>
      </li>
      <li>
        <a href='chap59.html#leanpub-auto-named-arguments'><span class="section-number">52. </span>Named Arguments</a>
      </li>
      <li>
        <a href='chap60.html#leanpub-auto-variable-arguments-varargs'><span class="section-number">53. </span>Variable Arguments (Varargs)</a>
      </li>
      <li>
        <a href='chap61.html#leanpub-auto-return-value'><span class="section-number">54. </span>Return value</a>
      </li>
      <li>
        <a href='chap62.html#leanpub-auto-throwing-an-exception'><span class="section-number">55. </span>Throwing an exception</a>
      </li>
      <li>
        <a href='chap63.html#leanpub-auto-documenting-a-method'><span class="section-number">56. </span>Documenting a method</a>
      </li>
      <li>
        <a href='chap64.html#leanpub-auto-techniques'><span class="section-number">57. </span>Techniques</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap65.html#leanpub-auto-closures'><span class="section-number">VII </span>Closures</a>
    <ul>
      <li>
        <a href='chap66.html#leanpub-auto-introducing-closures'><span class="section-number">58. </span>Introducing Closures</a>
      </li>
      <li>
        <a href='chap67.html#leanpub-auto-parameters-1'><span class="section-number">59. </span>Parameters</a>
      </li>
      <li>
        <a href='chap68.html#leanpub-auto-returning-values'><span class="section-number">60. </span>Returning Values</a>
      </li>
      <li>
        <a href='chap69.html#leanpub-auto-closures-as-method-parameters'><span class="section-number">61. </span>Closures as Method Parameters</a>
      </li>
      <li>
        <a href='chap70.html#leanpub-auto-loops-and-closures'><span class="section-number">62. </span>Loops and closures</a>
      </li>
      <li>
        <a href='chap71.html#leanpub-auto-useful-methods-that-use-closures'><span class="section-number">63. </span>Useful Methods That Use Closures</a>
      </li>
      <li>
        <a href='chap72.html#leanpub-auto-closure-scope'><span class="section-number">64. </span>Closure scope</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap73.html#leanpub-auto-object-oriented-programming'><span class="section-number">VIII </span>Object-oriented programming</a>
    <ul>
      <li>
        <a href='chap74.html#leanpub-auto-expando'><span class="section-number">65. </span>Expando</a>
      </li>
      <li>
        <a href='chap75.html#leanpub-auto-the-basics-of-oo'><span class="section-number">66. </span>The basics of OO</a>
      </li>
      <li>
        <a href='chap76.html#leanpub-auto-colophon'>Colophon</a>
      </li>
    </ul>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main">
<h2 id="leanpub-auto-the-basics-of-oo"><span class="section-number">66. </span>The basics of OO</h2>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>At its core, Groovy is an object-oriented programming language. </p>

    </td>
  </tr>
  </tbody>
</table><p>This section introduces a range of object-oriented terminology and provides you with a set of resources that will help you really hone those object-oriented programming skills.</p>

<p>Object-oriented programming is often referred to by its acronym “OO” or “OOP” and has been around for some time. We won’t delve into history here - check out <a href="http://en.wikipedia.org/wiki/Object-oriented_programming">Wikipedia</a> if you’d like to learn more. For now, let’s describe the essentials of OOP through a Groovy lens.</p>

<p>The object-oriented programming approach models concepts based on a combination of <em>properties</em> and <em>methods</em>. The concept being modelled may be a real-world entity such as a person, a car or a tree. It may also be a “virtual” concept such as a bank account, an HTTP server or a sales report.</p>

<p>The properties of an object (also referred to as fields) hold data that is important to the object’s <em>state</em>. </p>

<p>Methods (less often referred to as functions) provide a means of accessing and manipulating the object’s properties and behaviours. <em>Encapsulation</em> is an important concept in OOP and relates to the use of methods to hide and even protect an object’s properties from direct access. Essentially, other code interacts with the object via its methods - often referred to as its interface. </p>

<h3 id="leanpub-auto-classes">Classes</h3>
<p>Object-oriented programmers use <em>classes</em> to classify objects. As such, a class defines the fields (properties) and methods of an object.</p>

<p>In Groovy the <code>class</code> keyword if used when declaring a new class:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">class</code> <code class="n">Person</code> <code class="p">{}</code>
</pre></div>

</div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-classes-are-types">Classes are types</h3>
  <p>The definition of the <code>Person</code> class now provides the programmer with an new reference type.</p>

    </td>
  </tr>
  </tbody>
</table><p>Objects consist of fields (data) and methods for interacting with that data. For example, the code below describes a <code>Person</code> class with a <code>name</code> field and a <code>getName</code> method:</p>

<div class="code-block">
  <p class="codeblock-title">A basic class with a field and a method</p>

  <hr /><div class="highlight"><pre><code class="n">class</code> <code class="n">Person</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">name</code>
    
    <code class="n">def</code> <code class="n">getName</code><code class="p">()</code> <code class="p">{</code>
        <code class="k">return</code> <code class="n">this</code><code class="p">.</code><code class="n">name</code>
    <code class="p">}</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<p>In order to create an instance of the <code>Person</code> class we use the <code>new</code> keyword and assign the result to a variable</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">john</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Person</code><code class="p">(</code><code class="n">name</code><code class="o">:</code> <code class="err">'</code><code class="n">John</code><code class="err">'</code><code class="p">)</code>
<code class="n">println</code> <code class="n">john</code><code class="p">.</code><code class="n">getName</code><code class="p">()</code>
</pre></div>

</div>

<p>The call to <code>new Person(â€¦)</code> is actually using a special method called a “constructor”. Classes can define a variety of constructors to help with creating an instance and Groovy has some handy tricks we’ll explore later.</p>

<p>Instead of using the <code>def</code> keyword the variable could be declared as being of the <code>Person</code> type:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">Person</code> <code class="n">john</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Person</code><code class="p">(</code><code class="n">name</code><code class="o">:</code> <code class="err">'</code><code class="n">John</code><code class="err">'</code><code class="p">)</code>
</pre></div>

</div>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-information-hiding">Information hiding</h3>
  <p>Groovy lets you hide fields and methods from other classes through the use of the <code>private</code> and <code>public</code> keywords. This helps us improve the level of <a href="https://en.wikipedia.org/wiki/Encapsulation_(object-oriented_programming)">encapsulation</a> in our implementation.
We’ll get into this a lot more in subsequent chapters.</p>

    </td>
  </tr>
  </tbody>
</table><h4 id="leanpub-auto-instance-and-class-elements">Instance and Class Elements</h4>

<p>In the <code>getName</code> method you’ll notice the keyword <code>this</code> is used. You can translate <code>this</code> to mean “this instance”. Groovy supports instance fields and methods - those operating on a specific instance of the class. This means that your code isolates one instance from another and prevents you from inadvertently altering instances.</p>

<p>Static fields and methods are also supported - these apply at a class level. By preceding a field or a method with the keyword <code>static</code> we indicate that it is relevant to all instances of the class. In the example below I set the <code>specie</code> field to be static and this means I access it at the class level by referring to <code>Person.specie</code>.</p>

<div class="code-block">
  <p class="codeblock-title">Class fields use the <code>static</code> keyword</p>

  <hr /><div class="highlight"><pre><code class="n">class</code> <code class="n">Person</code> <code class="p">{</code>
    <code class="k">static</code> <code class="n">specie</code> <code class="o">=</code> <code class="err">'</code><code class="n">homo</code> <code class="n">sapien</code><code class="err">'</code>
    <code class="n">def</code> <code class="n">name</code>
<code class="p">}</code>

<code class="n">println</code> <code class="n">Person</code><code class="p">.</code><code class="n">specie</code>
</pre></div>

  <hr /></div>

<h4 id="leanpub-auto-constants">Constants</h4>

<p>An (English) language lawyer might think that the keyword <code>static</code> indicates that the value of <code>specie</code> can’t be changed. However, if you try <code>Person.specie = 'tubulidentata'</code> you’ll see that we can turn Person into a different specie! This is definitely not what we want so we need to declare <code>specie</code> as a constant.</p>

<p>The <code>final</code> keyword precedes static/instance fields and methods to make them constant:</p>

<div class="code-block">
  <p class="codeblock-title">Make it constant with <code>final</code></p>

  <hr /><div class="highlight"><pre><code class="n">class</code> <code class="n">Person</code> <code class="p">{</code> 
    <code class="k">static</code> <code class="n">final</code> <code class="n">specie</code> <code class="o">=</code> <code class="err">'</code><code class="n">homo</code> <code class="n">sapien</code><code class="err">'</code>
    <code class="n">def</code> <code class="n">name</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<h4 id="leanpub-auto-constructors-1">Constructors</h4>

<p>Constructors are a special type of method that is called when a new instance is created. We saw that Groovy provides a built-in constructor when we called <code>new Person(name: 'John')</code>. This takes a map in which the keys match the fields in the <code>Person</code> object.</p>

<p>To define a custom constructor we define a method with the same name as the class but without the <code>def</code> preceding it. The example below declares a constructor this way (<code>Person(name)</code>):</p>

<div class="code-block">
  <p class="codeblock-title">Constructing a person</p>

  <hr /><div class="highlight"><pre><code class="n">class</code> <code class="n">Person</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">name</code>
    
    <code class="n">Person</code><code class="p">(</code><code class="n">name</code><code class="p">)</code> <code class="p">{</code>
        <code class="n">this</code><code class="p">.</code><code class="n">name</code> <code class="o">=</code> <code class="n">name</code>
    <code class="p">}</code>
    
    <code class="n">def</code> <code class="n">getName</code><code class="p">()</code> <code class="p">{</code>
        <code class="k">return</code> <code class="n">this</code><code class="p">.</code><code class="n">name</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">john</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Person</code><code class="p">(</code><code class="err">'</code><code class="n">John</code><code class="err">'</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-the-default-is-now-lost">The default is now lost</h3>
  <p>By providing our own constructor, <code>new Person(name: 'John')</code> no longer works as it did before. In fact it will now do something rather odd - it will store a Map in John’s name field!</p>

    </td>
  </tr>
  </tbody>
</table><h4 id="leanpub-auto-overloading">Overloading</h4>

<p>The overloading feature of Groovy classes allows us to create multiple versions of the same method. The parameter list for each version of the method varies to allow callers to provide either a different number of parameters (as in the example below) or with the same number of parameters but with different types. Overloading is useful but also consider using default values for parameters as this can help reduce the number of methods you need to write and maintain.</p>

<div class="code-block">
  <p class="codeblock-title">Overloading the <code>mean</code> method</p>

  <hr /><div class="highlight"><pre><code class="n">class</code> <code class="n">Math</code> <code class="p">{</code>
    <code class="k">static</code> <code class="n">mean</code><code class="p">(</code><code class="n">num1</code><code class="p">,</code> <code class="n">num2</code><code class="p">)</code> <code class="p">{</code>
        <code class="p">(</code><code class="n">num1</code> <code class="o">+</code> <code class="n">num2</code><code class="p">)</code> <code class="o">/</code> <code class="mi">2</code>
    <code class="p">}</code>
    
    <code class="k">static</code> <code class="n">mean</code><code class="p">(...</code><code class="n">nums</code><code class="p">)</code> <code class="p">{</code>
        <code class="n">nums</code><code class="p">.</code><code class="n">sum</code><code class="p">()</code> <code class="o">/</code> <code class="n">nums</code><code class="p">.</code><code class="n">size</code><code class="p">()</code>
    <code class="p">}</code>
    
<code class="p">}</code>
<code class="n">println</code> <code class="n">Math</code><code class="p">.</code><code class="n">mean</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code> <code class="mi">20</code><code class="p">)</code>
<code class="n">println</code> <code class="n">Math</code><code class="p">.</code><code class="n">mean</code><code class="p">(</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-overloading-constructors">Overloading constructors</h3>
  <p>Constructors are just methods so they can also be overloaded.</p>

    </td>
  </tr>
  </tbody>
</table><h3 id="leanpub-auto-interfaces">Interfaces</h3>
<p><em>Interfaces</em> provide a method for defining programming interfaces. Interfaces, for the most part, just define method signatures and not their implementation. Classes implement these interfaces in a manner that reflect the class’s role/model/context.</p>

<p>The example below defines an interface named <code>Exercise</code> with a single method <code>run</code>. The <code>Athlete</code> class then implements the interface:</p>

<div class="code-block">
  <p class="codeblock-title">Implementing an interface</p>

  <hr /><div class="highlight"><pre>interface Exercise {
    def run(int distance)
}

class Athlete implements Exercise {
    def name
    def run(int distance) {
        println "I'm off for a <code class="cp">${</code><code class="n">distance</code><code class="cp">}</code>km run."
    }
}

def robert = new Athlete(name: 'Rob')
robert.run(10)
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-inheritance">Inheritance</h3>
<p>A <em>superclass</em> is one from which other classes inherit functionality. The “child” classes are referred to as being <em>subclasses</em>. A subclass inherits from a superclass through the use of the <code>extends</code> keyword.</p>

<p>In the code below, <code>StaffMember</code> is a subclass of <code>Person</code>. This allows <code>StaffMember</code> to access the <code>name</code> field defined in <code>Person</code>:</p>

<div class="code-block">
  <p class="codeblock-title">Inheritance in action</p>

  <hr /><div class="highlight"><pre>class Person {
    def name
}

class StaffMember extends Person {
    def staffID
    
    def getIdentification() {
        println "<code class="cp">${</code><code class="n">this</code><code class="o">.</code><code class="n">name</code><code class="cp">}</code> - <code class="cp">${</code><code class="n">this</code><code class="o">.</code><code class="n">staffID</code><code class="cp">}</code>"
    }
}

def sally = new StaffMember(name: 'Sally', staffID: 765)
sally.getIdentification()
</pre></div>

  <hr /></div>

<p>Unlike interfaces, superclasses can provide implemented methods and fields that subclasses can utilise. However, Superclasses can work somewhat like interfaces and their methods can be declared as <code>abstract</code> to force subclasses to provide their own implementation. </p>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-multiple-inheritance-is-not-supported">Multiple inheritance is not supported</h3>
  <p>Unlike some other OO languages (e.g. C++), Groovy does not support multiple inheritance. This means that a class cannot extend more than one superclass. However, Groovy classes can implement more than one interface.
Groovy does support classes implementing multiple interfaces and traits.</p>

    </td>
  </tr>
  </tbody>
</table><h4 id="leanpub-auto-overriding-methods">Overriding methods</h4>
<p>Subclasses can also override methods and fields implemented by superclasses. This lets subclasses provide more contextual implementations if needed. A subclass can refer directly to superclass fields and methods by using the <code>super</code> keyword.</p>

<p>In the example below, <code>StaffMember</code> is a subclass of <code>Person</code>. The <code>StaffMember</code> class overrides the <code>getName</code> method and prefixes a string to the <code>name</code> returned by the superclass. </p>

<div class="code-block">
  <p class="codeblock-title">Overriding methods</p>

  <hr /><div class="highlight"><pre>class Person {
    def name
    
    def getName() {
        return this.name
    }
}

class StaffMember extends Person {
    def staffID
    
    @Override
    def getName() {
        "Team member <code class="cp">${</code><code class="nb">super</code><code class="o">.</code><code class="n">name</code><code class="cp">}</code>"
    }
    
    def getIdentification() {
        println "<code class="cp">${</code><code class="n">this</code><code class="o">.</code><code class="n">name</code><code class="cp">}</code> - <code class="cp">${</code><code class="n">this</code><code class="o">.</code><code class="n">staffID</code><code class="cp">}</code>"
    }
}

def sally = new StaffMember(name: 'Sally', staffID: 765)
println sally.name
</pre></div>

  <hr /></div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-stop-the-override">Stop the override</h3>
  <p>Superclass methods declared with the <code>final</code> keyword can’t be overridden.</p>

    </td>
  </tr>
  </tbody>
</table><table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-mark-the-override">Mark the override</h3>
  <p>You’ll notice that I put <code>@Override</code> before the <code>getName</code> method in <code>StaffMember</code>. This is a really handy annotation as it tells Groovy that the method is overriding one declared by the superclass. If I mis-spell the method name then Groovy will give me an error.</p>

    </td>
  </tr>
  </tbody>
</table><h3 id="leanpub-auto-traits">Traits</h3>

<p>At first glance, traits can be considered as interfaces with an implementation but they offer a really useful approach to adding features or abilities to a class. A common example may be to add the flying trait to animals or vehicles. The trait may have its own fields and/or methods.</p>

<p>In the example below:</p>

<ol class="numeric"><li>A very basic <code>Project</code> class is defined. It just stores the project name</li>
  <li>An <code>Agile</code> trait provides some basic fields used to describe an agile aspect to projects. A very basic method (<code>startIteration</code>) gives us an example method to call.</li>
  <li>A <code>Scrum</code> class is defined:
    <ol class="numeric"><li>It extends the <code>Project</code> class</li>
      <li>It implements the <code>Agile</code> trait</li>
      <li>Two Scrum-specific fields are added (<code>productOwner</code> &amp; <code>scrumMaster</code>)</li>
    </ol></li>
  <li>I can then create an instance of <code>Scrum</code> and provide it information for both the <code>Project</code>/<code>Scrum</code> hierarchy as well as the <code>Agile</code> trait.
    <ol class="numeric"><li>I then call the <code>Agile</code> trait’s <code>startIteration</code> method and our project is away!</li>
    </ol></li>
</ol><div class="code-block">
  <p class="codeblock-title">Applying a trait</p>

  <hr /><div class="highlight"><pre><code class="n">class</code> <code class="n">Project</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">name</code>
<code class="p">}</code>

<code class="n">trait</code> <code class="n">Agile</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">iterationLength</code> <code class="o">=</code> <code class="mi">4</code>
    <code class="n">def</code> <code class="n">backlog</code> <code class="o">=</code> <code class="p">[]</code>
    <code class="n">def</code> <code class="n">developmentTeam</code> <code class="o">=</code> <code class="p">[]</code> 
    
    <code class="n">def</code> <code class="n">startIteration</code><code class="p">()</code> <code class="p">{</code>
        <code class="n">println</code> <code class="s">"""\</code>
<code class="s">            We're staring our $iterationLength week iteration for $name</code>
            <code class="n">Team</code> <code class="n">members</code><code class="o">:</code> <code class="err">$</code><code class="n">developmentTeam</code>
            <code class="nl">Backlog:</code> <code class="err">$</code><code class="n">backlog</code>
            <code class="s">"""</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="n">class</code> <code class="n">Scrum</code>
    <code class="n">extends</code> <code class="n">Project</code> 
    <code class="n">implements</code> <code class="n">Agile</code> <code class="p">{</code>

    <code class="n">def</code> <code class="n">productOwner</code>
    <code class="n">def</code> <code class="n">scrumMaster</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">project</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Scrum</code><code class="p">().</code><code class="n">with</code> <code class="p">{</code>
    <code class="n">name</code> <code class="o">=</code> <code class="s">"Project X"</code>
    <code class="n">iterationLength</code> <code class="o">=</code> <code class="mi">2</code>
    <code class="n">productOwner</code> <code class="o">=</code> <code class="err">'</code><code class="n">Charlie</code><code class="err">'</code>
    <code class="n">scrumMaster</code> <code class="o">=</code> <code class="err">'</code><code class="n">Bobby</code><code class="err">'</code>
    <code class="n">developmentTeam</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Dean</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Sam</code><code class="err">'</code><code class="p">]</code>
    <code class="n">backlog</code> <code class="o">&lt;&lt;</code> <code class="err">'</code><code class="n">As</code> <code class="n">a</code> <code class="n">User</code> <code class="n">I</code> <code class="n">want</code> <code class="n">to</code> <code class="n">press</code> <code class="n">buttons</code><code class="err">'</code>
    <code class="n">backlog</code> <code class="o">&lt;&lt;</code> <code class="err">'</code><code class="n">As</code> <code class="n">an</code> <code class="n">Admin</code> <code class="n">I</code> <code class="n">want</code> <code class="n">to</code> <code class="n">lockout</code> <code class="n">users</code><code class="err">'</code>
    <code class="k">return</code> <code class="n">it</code>
<code class="p">}</code>

<code class="n">project</code><code class="p">.</code><code class="n">startIteration</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-packages-1">Packages</h3>
<p>As discussed earlier, Groovy allows programmers to group objects into <code>packages</code>. In the following snippet the <code>Person</code> class is allocated to the <code>myobjects</code> package:</p>

<div class="code-block">
  <p class="codeblock-title">Put classes into packages</p>

  <hr /><div class="highlight"><pre><code class="n">package</code> <code class="n">myobjects</code>

<code class="n">class</code> <code class="n">Person</code> <code class="p">{}</code>
</pre></div>

  <hr /></div>

<p>Packages are central to using others’ code in your programs and allowing your code to be used elsewhere.</p>

<h3 id="leanpub-auto-summary">Summary</h3>
<p>This chapter has provided an extremely brief overview of object-oriented programming supported by small Groovy examples. The following chapters in this section will explore fundamental aspects of fields and methods and the subsequent section will dive far deeper into how to really get OO with Groovy.</p>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-incomplete-section">Incomplete section</h3>
  <p>This section is yet to be completed. 
Watch this space.</p>

    </td>
  </tr>
  </tbody>
</table><!-- begin backmatter -->
</div>
</body>
</html>
