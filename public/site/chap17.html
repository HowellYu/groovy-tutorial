<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>14. Collections</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div id="leanpub-toc">
<h2></h2>
<ol class="toc has-parts">
<ul class='toc has-parts'>
  <li>
    <ul>
      <li>
        <a href='chap00.html#leanpub-auto-introduction'>Introduction</a>
      </li>
      <li>
        <a href='chap01.html#leanpub-auto-legal-notices'>Legal Notices</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-getting-started'><span class="section-number">I </span>Getting started</a>
    <ul>
      <li>
        <a href='chap03.html#leanpub-auto-installing-groovy'><span class="section-number">1. </span>Installing Groovy</a>
      </li>
      <li>
        <a href='chap04.html#leanpub-auto-your-first-lines-of-groovy'><span class="section-number">2. </span>Your first lines of Groovy</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-comments'><span class="section-number">3. </span>Comments</a>
      </li>
      <li>
        <a href='chap06.html#leanpub-auto-statements'><span class="section-number">4. </span>Statements</a>
      </li>
      <li>
        <a href='chap07.html#leanpub-auto-the-assert-statement'><span class="section-number">5. </span>The <code>assert</code> statement</a>
      </li>
      <li>
        <a href='chap08.html#leanpub-auto-reserved-words'><span class="section-number">6. </span>Reserved Words</a>
      </li>
      <li>
        <a href='chap09.html#leanpub-auto-packages'><span class="section-number">7. </span>Packages</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-variables'><span class="section-number">II </span>Variables</a>
    <ul>
      <li>
        <a href='chap11.html#leanpub-auto-declaring-variables'><span class="section-number">8. </span>Declaring Variables</a>
      </li>
      <li>
        <a href='chap12.html#leanpub-auto-data-types'><span class="section-number">9. </span>Data Types</a>
      </li>
      <li>
        <a href='chap13.html#leanpub-auto-objects'><span class="section-number">10. </span>Objects</a>
      </li>
      <li>
        <a href='chap14.html#leanpub-auto-booleans'><span class="section-number">11. </span>Booleans</a>
      </li>
      <li>
        <a href='chap15.html#leanpub-auto-numbers'><span class="section-number">12. </span>Numbers</a>
      </li>
      <li>
        <a href='chap16.html#leanpub-auto-strings'><span class="section-number">13. </span>Strings</a>
      </li>
      <li>
        <a href='chap17.html#leanpub-auto-collections'><span class="section-number">14. </span>Collections</a>
      </li>
      <li>
        <a href='chap18.html#leanpub-auto-arrays'><span class="section-number">15. </span>Arrays</a>
      </li>
      <li>
        <a href='chap19.html#leanpub-auto-ranges'><span class="section-number">16. </span>Ranges</a>
      </li>
      <li>
        <a href='chap20.html#leanpub-auto-regular-expressions'><span class="section-number">17. </span>Regular Expressions</a>
      </li>
      <li>
        <a href='chap21.html#leanpub-auto-data-types-1'><span class="section-number">18. </span>Data types</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap22.html#leanpub-auto-operators'><span class="section-number">III </span>Operators</a>
    <ul>
      <li>
        <a href='chap23.html#leanpub-auto-operators-1'><span class="section-number">19. </span>Operators</a>
      </li>
      <li>
        <a href='chap24.html#leanpub-auto-numeric-operators'><span class="section-number">20. </span>Numeric Operators</a>
      </li>
      <li>
        <a href='chap25.html#leanpub-auto-simple-assignment-operator'><span class="section-number">21. </span>Simple Assignment Operator</a>
      </li>
      <li>
        <a href='chap26.html#leanpub-auto-the-complement-operator'><span class="section-number">22. </span>The Complement Operator</a>
      </li>
      <li>
        <a href='chap27.html#leanpub-auto-equality-operators'><span class="section-number">23. </span>Equality Operators</a>
      </li>
      <li>
        <a href='chap28.html#leanpub-auto-arithmetic-operators'><span class="section-number">24. </span>Arithmetic operators</a>
      </li>
      <li>
        <a href='chap29.html#leanpub-auto-relational-operators'><span class="section-number">25. </span>Relational Operators</a>
      </li>
      <li>
        <a href='chap30.html#leanpub-auto-increment-and-decrement-operators'><span class="section-number">26. </span>Increment and Decrement Operators</a>
      </li>
      <li>
        <a href='chap31.html#leanpub-auto-conditional-operators'><span class="section-number">27. </span>Conditional Operators</a>
      </li>
      <li>
        <a href='chap32.html#leanpub-auto-bitwise-operators'><span class="section-number">28. </span>Bitwise Operators</a>
      </li>
      <li>
        <a href='chap33.html#leanpub-auto-compound-assignment-operators'><span class="section-number">29. </span>Compound Assignment Operators</a>
      </li>
      <li>
        <a href='chap34.html#leanpub-auto-string-operators-1'><span class="section-number">30. </span>String Operators</a>
      </li>
      <li>
        <a href='chap35.html#leanpub-auto-regular-expression-operators-1'><span class="section-number">31. </span>Regular Expression Operators</a>
      </li>
      <li>
        <a href='chap36.html#leanpub-auto-collection-operators-1'><span class="section-number">32. </span>Collection operators</a>
      </li>
      <li>
        <a href='chap37.html#leanpub-auto-object-operators-1'><span class="section-number">33. </span>Object Operators</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap38.html#leanpub-auto-control-flow-statements'><span class="section-number">IV </span>Control Flow Statements</a>
    <ul>
      <li>
        <a href='chap39.html#leanpub-auto-introduction-1'><span class="section-number">34. </span>Introduction</a>
      </li>
      <li>
        <a href='chap40.html#leanpub-auto-blocks'><span class="section-number">35. </span>Blocks</a>
      </li>
      <li>
        <a href='chap41.html#leanpub-auto-the-if-statement'><span class="section-number">36. </span>The <code>if</code> Statement</a>
      </li>
      <li>
        <a href='chap42.html#leanpub-auto-the-switch-statement'><span class="section-number">37. </span>The <code>switch</code> Statement</a>
      </li>
      <li>
        <a href='chap43.html#leanpub-auto-the-for-loop'><span class="section-number">38. </span>The <code>for</code> Loop</a>
      </li>
      <li>
        <a href='chap44.html#leanpub-auto-the-while-loop'><span class="section-number">39. </span>The <code>while</code> loop</a>
      </li>
      <li>
        <a href='chap45.html#leanpub-auto-branching-statements'><span class="section-number">40. </span>Branching statements</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap46.html#leanpub-auto-exceptions'><span class="section-number">V </span>Exceptions</a>
    <ul>
      <li>
        <a href='chap47.html#leanpub-auto-the-throwable-family'><span class="section-number">41. </span>The Throwable Family</a>
      </li>
      <li>
        <a href='chap48.html#leanpub-auto-common-exceptions'><span class="section-number">42. </span>Common Exceptions</a>
      </li>
      <li>
        <a href='chap49.html#leanpub-auto-anatomy-of-an-exception'><span class="section-number">43. </span>Anatomy of an Exception</a>
      </li>
      <li>
        <a href='chap50.html#leanpub-auto-try-catch-finally'><span class="section-number">44. </span>Try-Catch-Finally</a>
      </li>
      <li>
        <a href='chap51.html#leanpub-auto-how-much-should-we-try'><span class="section-number">45. </span>How Much Should We try?</a>
      </li>
      <li>
        <a href='chap52.html#leanpub-auto-causing-an-exception'><span class="section-number">46. </span>Causing an Exception</a>
      </li>
      <li>
        <a href='chap53.html#leanpub-auto-catching-errors'><span class="section-number">47. </span>Catching Errors</a>
      </li>
      <li>
        <a href='chap54.html#leanpub-auto-methods-and-exceptions'><span class="section-number">48. </span>Methods and Exceptions</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap55.html#leanpub-auto-methods'><span class="section-number">VI </span>Methods</a>
    <ul>
      <li>
        <a href='chap56.html#leanpub-auto-the-basics'><span class="section-number">49. </span>The Basics</a>
      </li>
      <li>
        <a href='chap57.html#leanpub-auto-parameters'><span class="section-number">50. </span>Parameters</a>
      </li>
      <li>
        <a href='chap58.html#leanpub-auto-default-values-for-parameters'><span class="section-number">51. </span>Default Values for Parameters</a>
      </li>
      <li>
        <a href='chap59.html#leanpub-auto-named-arguments'><span class="section-number">52. </span>Named Arguments</a>
      </li>
      <li>
        <a href='chap60.html#leanpub-auto-variable-arguments-varargs'><span class="section-number">53. </span>Variable Arguments (Varargs)</a>
      </li>
      <li>
        <a href='chap61.html#leanpub-auto-return-value'><span class="section-number">54. </span>Return value</a>
      </li>
      <li>
        <a href='chap62.html#leanpub-auto-throwing-an-exception'><span class="section-number">55. </span>Throwing an exception</a>
      </li>
      <li>
        <a href='chap63.html#leanpub-auto-documenting-a-method'><span class="section-number">56. </span>Documenting a method</a>
      </li>
      <li>
        <a href='chap64.html#leanpub-auto-techniques'><span class="section-number">57. </span>Techniques</a>
      </li>
      <li>
        <a href='chap65.html#leanpub-auto-colophon'>Colophon</a>
      </li>
    </ul>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main">
<h2 id="leanpub-auto-collections"><span class="section-number">14. </span>Collections</h2>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Having a single number or string is useful but collections help you keep them together.</p>

    </td>
  </tr>
  </tbody>
</table><p>Collections group a number of values in a single container. The Java <a href="http://docs.oracle.com/javase/tutorial/collections/intro/index.html">Collections Framework</a> provides a really extensible and unified approach to handling collections. Groovy makes these even easier to use and focusses on two key collection types:</p>

<ul><li>Lists: provide a container for several values</li>
  <li>Maps: use keys as a method for indexing a set of values</li>
</ul><h3 id="leanpub-auto-lists">Lists</h3>

<p>List variables contain several items and are declared using square brackets (<code>[...]</code>). </p>

<p>The example below declares a variable (<code>temperatures</code>) as an empty list:</p>

<div class="code-block">
  <p class="codeblock-title">Declaring an empty list</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">temperatures</code> <code class="o">=</code> <code class="p">[]</code>
</pre></div>

  <hr /></div>

<p>The next examples declares the <code>temperatures</code> list with some initial values:</p>

<div class="code-block">
  <p class="codeblock-title">Declaring a list with values</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">temperatures</code> <code class="o">=</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">6</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<p>In the temperatures example the list contains just numbers but Groovy lists can contain a mix of data types:</p>

<div class="code-block">
  <p class="codeblock-title">Lists can contain mixed types</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">mixed</code> <code class="o">=</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="nb">true</code><code class="p">,</code> <code class="err">'</code><code class="n">rabbit</code><code class="err">'</code><code class="p">,</code> <code class="mf">3.14</code><code class="p">]</code>
<code class="n">println</code> <code class="n">mixed</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code>
<code class="n">println</code> <code class="n">mixed</code><code class="p">[</code><code class="o">-</code><code class="mi">3</code><code class="p">]</code>
<code class="n">println</code> <code class="n">mixed</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="mi">3</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<p>The square brackets <code>[]</code> are used to create a list but are also used to refer to indexes in the list (e.g. <code>mixed[2]</code>) - this is often referred to as <em>subscript notation</em>. In the example above you’ll notice I’ve printed out <code>mixed[2]</code> - the list item with index (subscript) 2. Somewhat confusingly this causes <code>rabbit</code> to be displayed. This is because lists are zero-based and the first item is at index 0, not index 1. Where we use <code>mixed[2]</code> we’re asking for the third item in the list.</p>

<p>It may surprise some programmers that <code>println mixed[-3]</code> is valid - it’s a very handy approach to accessing list items from the end of the list. Item <code>-1</code> is the last in the list so <code>mixed[-3]</code> will be the value <code>true</code>.</p>

<p>The <code>get()</code> method can also be used to access a list element by its index - e.g. <code>mixed.get(3)</code> gives us <code>3.14</code>.</p>

<p>I can provide multiple indexes in the subscript notation and grab the specified elements from the list. In the example below I grab elements 0 and 2 (<code>temperatures[0, 2]</code>) and then elements 1, 3 and 4 (<code>temperatures[1, 3, 4]</code>):</p>

<div class="code-block">
  <p class="codeblock-title">Using indexes with lists</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">temperatures</code> <code class="o">=</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">6</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">temperatures</code><code class="p">[</code><code class="mi">0</code><code class="p">,</code> <code class="mi">2</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">temperatures</code><code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">4</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">5</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">6</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">temperatures</code><code class="p">[</code><code class="mf">1..3</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<p>Ranges can also be used in the subscript notation and, as demonstrated in the example below, return a list containing the items who’s indexes are included in the range:</p>

<div class="code-block">
  <p class="codeblock-title">Using ranges with lists</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">temperatures</code> <code class="o">=</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">6</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">temperatures</code><code class="p">[</code><code class="mf">1..3</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<p>We can also use a mix of individual indexes and ranges as we see fit:</p>

<div class="code-block">
  <p class="codeblock-title">Indexes and ranges with lists</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">temperatures</code> <code class="o">=</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">6</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">temperatures</code><code class="p">[</code><code class="mf">0..1</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">temperatures</code><code class="p">[</code><code class="mf">0..1</code><code class="p">,</code> <code class="mf">1..3</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">temperatures</code><code class="p">[</code><code class="mf">0..1</code><code class="p">,</code> <code class="mf">1..3</code><code class="p">,</code> <code class="mi">4</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">10</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">6</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<p>What? Let’s take a look:</p>

<ul><li><code>temperatures[0..1, 3]</code> returns a list containing the elements of <code>temperatures</code> with the indexes 0, 1 and 3</li>
  <li><code>temperatures[0..1, 1..3]</code> returns a list using two ranges to select the indexes. As index item <code>1</code> is requested twice, the returned list features the item (<code>5</code>) twice.</li>
  <li><code>temperatures[0..1, 1..3, 4]</code> does the same as the previous statement but adds in the item at index <code>4</code></li>
</ul><h4 id="leanpub-auto-adding-elements">Adding elements</h4>

<p>To add an element to a list we use the <code>add()</code> method or the <code>&lt;&lt;</code> operator:</p>

<div class="code-block">
  <p class="codeblock-title">Adding elements</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">mixed</code> <code class="o">=</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="nb">true</code><code class="p">,</code> <code class="err">'</code><code class="n">rabbit</code><code class="err">'</code><code class="p">,</code> <code class="mf">3.14</code><code class="p">]</code>
<code class="n">mixed</code> <code class="o">&lt;&lt;</code> <code class="err">'</code><code class="n">biscuit</code><code class="err">'</code>
<code class="n">mixed</code><code class="p">.</code><code class="n">add</code><code class="p">(</code><code class="mi">101</code><code class="p">)</code>
<code class="n">println</code> <code class="n">mixed</code>
</pre></div>

  <hr /></div>

<h4 id="leanpub-auto-sets">Sets</h4>
<p>Sets are much like lists but each element in a set is unique:</p>

<div class="code-block">
  <p class="codeblock-title">Declaring a Set</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">names</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">sally</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">bob</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">sally</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">jane</code><code class="err">'</code><code class="p">]</code> <code class="n">as</code> <code class="n">Set</code>
<code class="n">println</code> <code class="n">names</code>
</pre></div>

  <hr /></div>

<p>If you try the code above you’ll get <code>[sally, bob, jane]</code> - the set just ignores the repeated element.</p>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-the-as-keyword">The <code>as</code> keyword</h3>
  <p>The <code>as</code> keyword is an operator used to cast a variable to another type. In the example above we’re casting to the <code>Set</code> class but you can also cast to other collection types - something to look forward to when you get into more advanced coding.</p>

    </td>
  </tr>
  </tbody>
</table><h4 id="leanpub-auto-useful-list-methods">Useful List Methods</h4>

<p>The <code>size()</code> method returns the number of elements in the list:</p>

<div class="code-block">
  <p class="codeblock-title">List size</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">size</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>The <code>first()</code> and <code>last()</code> methods return the first and last elements in a list. The <code>head()</code> method is synonymous with <code>first()</code>.</p>

<div class="code-block">
  <p class="codeblock-title">First and last methods</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">first</code><code class="p">()</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">head</code><code class="p">()</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">last</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>The <code>tail()</code> method returns the list minus the first (head) element and the <code>init()</code> method returns the list minus the last element:</p>

<div class="code-block">
  <p class="codeblock-title">Tail method</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">periodic</code><code class="p">.</code><code class="n">tail</code><code class="p">()</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">periodic</code><code class="p">.</code><code class="n">init</code><code class="p">()</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<p>The <code>contains()</code> method returns <code>true</code> if the requested element is contained in the list:</p>

<div class="code-block">
  <p class="codeblock-title">Contains method</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>      
<code class="n">assert</code> <code class="n">periodic</code><code class="p">.</code><code class="n">contains</code><code class="p">(</code><code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">)</code> <code class="o">==</code> <code class="nb">true</code>
</pre></div>

  <hr /></div>

<p>The <code>reverse()</code> method returns the mirror of the list:</p>

<div class="code-block">
  <p class="codeblock-title">Reverse method</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>      
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">reverse</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>The <code>sort()</code> will sort the elements in a “natural” order. Basically, this relies on the list elements being comparable in some manner. The <code>sort</code> method is best used when the list contents are all of the same type (e.g. strings or numbers):</p>

<div class="code-block">
  <p class="codeblock-title">Sort method</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>      
<code class="n">periodic</code><code class="p">.</code><code class="n">sort</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>The <code>asImmutable()</code> method is a handy way to set the list contents in stone -  “Immutable” essentially means “unchanging”.</p>

<div class="code-block">
  <p class="codeblock-title">Don’t go changing</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">friends</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">fred</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">sally</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">akbar</code><code class="err">'</code><code class="p">].</code><code class="n">asImmutable</code><code class="p">()</code>

<code class="c1">//This next line will cause an exception:</code>
<code class="n">friends</code> <code class="o">&lt;&lt;</code> <code class="err">'</code><code class="n">jake</code><code class="err">'</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-maps">Maps</h3>

<p>Maps allow us to build up a type of look-up table using keys and values. Other languages call these dictionaries or associated arrays.</p>

<p>An empty map is declared using <code>[:]</code> and the example below shows this in use when declaring the <code>periodic</code> variable.</p>

<div class="code-block">
  <p class="codeblock-title">Declaring an empty map</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="o">:</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<p>Each key in a map is unique and points to a value in the map. In the example below we see the start of a basic periodic table by declaring a variable (<code>periodic</code>) with a set of key-value pairs (<code>key: value</code>) each separated by a comma (<code>,</code>) and held within square brackets (<code>[...]</code>):</p>

<div class="code-block">
  <p class="codeblock-title">Declaring a map with elements</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="sc">'h'</code><code class="o">:</code> <code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code>
		<code class="err">'</code><code class="n">he</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code>
		<code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
                 
<code class="n">println</code> <code class="n">periodic</code><code class="p">[</code><code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="p">]</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">li</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<p>You should also note that we can access map items using:</p>

<ol class="numeric"><li>The key in square brackets (<code>[]</code>)
    <ol class="numeric"><li>Much as we did with lists: <code>println periodic['li']</code>. </li>
      <li>This is often referred to as <em>subscript notation</em>.</li>
    </ol></li>
  <li>We can also use the period (<code>.</code>) followed by the key: 
    <ol class="numeric"><li>As in <code>println periodic.li</code>. </li>
      <li>This is often referred to as <em>dot-point notation</em></li>
    </ol></li>
  <li>Lastly, the <code>get()</code> method is passed a key and returns the associated value</li>
</ol><table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-dot-point-or-key-access">Dot point or key access?</h3>
  <p>I prefer the dot-point notation but sometimes you need to use square brackets if you’re using a key that’s a reserved word or not a valid name. The <code>get()</code> method is OK but is a little less clean in terms of aesthetics.</p>

    </td>
  </tr>
  </tbody>
</table><p>The keys in a map can be names provided they adhere to the same rules we follow for variable names. That means that the keys in <code>periodic</code> don’t have to be written as strings:</p>

<div class="code-block">
  <p class="codeblock-title">Keys as names</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="n">h</code><code class="o">:</code> <code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code>
        <code class="nl">he:</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code>
        <code class="nl">li:</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<h4 id="leanpub-auto-adding-elements-1">Adding elements</h4>
<p>To add an element to a map we can use the square bracket, dot-point notation, <code>&lt;&lt;</code> operator, or <code>put()</code> method to add on a new key/value pair:</p>

<div class="code-block">
  <p class="codeblock-title">Adding elements</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="sc">'h'</code><code class="o">:</code> <code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">he</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
        
<code class="n">periodic</code><code class="p">[</code><code class="err">'</code><code class="n">be</code><code class="err">'</code><code class="p">]</code> <code class="o">=</code> <code class="err">'</code><code class="n">Beryllium</code><code class="err">'</code>
<code class="n">periodic</code><code class="p">.</code><code class="n">b</code> <code class="o">=</code> <code class="err">'</code><code class="n">Boron</code><code class="err">'</code>
<code class="n">periodic</code> <code class="o">&lt;&lt;</code> <code class="p">[</code><code class="sc">'c'</code><code class="o">:</code> <code class="err">'</code><code class="n">Carbon</code><code class="err">'</code><code class="p">]</code>
<code class="n">periodic</code><code class="p">.</code><code class="n">put</code><code class="p">(</code><code class="sc">'n'</code><code class="p">,</code> <code class="err">'</code><code class="n">Nitrogen</code><code class="err">'</code><code class="p">)</code>

<code class="n">println</code> <code class="n">periodic</code>
</pre></div>

  <hr /></div>

<h4 id="leanpub-auto-keys">Keys</h4>
<p>Map keys don’t have to be strings - they can be a mix of strings, numbers or other objects. Let’s look at an example then go through the various bits of code:</p>

<div class="code-block">
  <p class="codeblock-title">Different types of keys</p>

  <hr /><div class="highlight"><pre><code class="n">class</code> <code class="n">Chicken</code> <code class="p">{</code>
    <code class="n">def</code> <code class="n">name</code>
    
	<code class="n">String</code> <code class="n">toString</code><code class="p">()</code> <code class="p">{</code>
        <code class="k">return</code> <code class="s">"I am $name"</code><code class="p">.</code><code class="n">toString</code><code class="p">()</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">cluckers</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Chicken</code><code class="p">(</code><code class="n">name</code><code class="o">:</code> <code class="err">'</code><code class="n">Cluckers</code><code class="err">'</code><code class="p">)</code>

<code class="n">def</code> <code class="n">mixedMap</code> <code class="o">=</code> <code class="p">[</code>
    <code class="mi">12</code><code class="o">:</code>         <code class="err">'</code><code class="n">Eggs</code> <code class="n">in</code> <code class="n">a</code> <code class="n">carton</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">chicken</code><code class="err">'</code><code class="o">:</code>  <code class="err">'</code><code class="n">Egg</code> <code class="n">producer</code><code class="err">'</code><code class="p">,</code>
    <code class="p">(</code><code class="n">cluckers</code><code class="p">)</code><code class="o">:</code>   <code class="err">'</code><code class="n">Head</code> <code class="n">chicken</code><code class="err">'</code>
<code class="p">]</code>

<code class="n">println</code> <code class="n">mixedMap</code><code class="p">[</code><code class="mi">12</code><code class="p">]</code>
<code class="n">println</code> <code class="n">mixedMap</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="mi">12</code><code class="p">)</code>

<code class="n">println</code> <code class="n">mixedMap</code><code class="p">.</code><code class="n">chicken</code>
<code class="n">println</code> <code class="n">mixedMap</code><code class="p">[</code><code class="err">'</code><code class="n">chicken</code><code class="err">'</code><code class="p">]</code>
<code class="n">println</code> <code class="n">mixedMap</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="err">'</code><code class="n">chicken</code><code class="err">'</code><code class="p">)</code>

<code class="n">println</code> <code class="n">mixedMap</code><code class="p">[(</code><code class="n">cluckers</code><code class="p">)]</code>
<code class="n">println</code> <code class="n">mixedMap</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="n">cluckers</code><code class="p">)</code>

<code class="n">println</code> <code class="n">mixedMap</code>
</pre></div>

  <hr /></div>

<p>In the example above:</p>

<ol class="numeric"><li>I create a new class (<code>Chicken</code>) 
    <ol class="numeric"><li>… and store a new instance of <code>Chicken</code> in the variable <code>cluckers</code></li>
    </ol></li>
  <li>I then create a map variable called <code>mixedMap</code> with different types of keys:
    <ol class="numeric"><li><code>12</code> is a number</li>
      <li><code>'chicken'</code> is a string</li>
      <li><code>(cluckers)</code> indicates that the key is a variable value</li>
    </ol></li>
  <li>I use the square-bracket notation and <code>get</code> method to access the value aligned to the key <code>12</code>
    <ol class="numeric"><li><code>mixedMap.12</code> won’t work</li>
    </ol></li>
  <li>I use the square-bracket, dot-point and <code>get</code> method to access the value aligned to the key <code>'chicken'</code></li>
  <li>I use the square-bracket notation and <code>get</code> method to access the value aligned to the key <code>(cluckers)</code>
    <ol class="numeric"><li><code>mixedMap.cluckers</code></li>
    </ol></li>
  <li><code>println mixedMap</code> is called to display the map contents</li>
</ol><blockquote>
  <p>I’d suggest you stick with strings as keys for now. I’d also suggest that using one type for your keys will usually make life a lot easier.</p>
</blockquote>

<p>For those interested in such things, the <code>(cluckers)</code> key isn’t affected if I change the value of <code>cluckers</code> later on. If you append the code below to the chicken example you’ll see that <code>mixedMap.get(cluckers)</code> will now return <code>null</code> as the match fails. You’ll also notice that <code>println mixedMap</code> is the same output you get before changing <code>cluckers</code>:</p>

<div class="code-block">
  <p class="codeblock-title">Changing objects used as keys</p>

  <hr /><div class="highlight"><pre><code class="n">cluckers</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Chicken</code><code class="p">(</code><code class="n">name</code><code class="o">:</code> <code class="err">'</code><code class="n">Bill</code><code class="err">'</code><code class="p">)</code>
<code class="n">println</code> <code class="n">mixedMap</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="n">cluckers</code><code class="p">)</code>
<code class="n">println</code> <code class="n">mixedMap</code>
</pre></div>

  <hr /></div>

<h4 id="leanpub-auto-useful-map-methods">Useful Map Methods</h4>

<p>As with lists, the <code>size()</code> methods returns the number of elements in a map.</p>

<p>The <code>get</code> method can be used to get the value for the requested key. A second optional parameter can be provided and is returned if the map does not contain the requested key:</p>

<div class="code-block">
  <p class="codeblock-title">Get method</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="sc">'h'</code><code class="o">:</code> <code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">he</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
        
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="err">'</code><code class="n">he</code><code class="err">'</code><code class="p">)</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="err">'</code><code class="n">he</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Unknown</code> <code class="n">element</code><code class="err">'</code><code class="p">)</code>      
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="sc">'x'</code><code class="p">,</code> <code class="err">'</code><code class="n">Unknown</code> <code class="n">element</code><code class="err">'</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<p>The <code>keySet()</code> method returns a list containing all of the keys in a map and <code>values()</code> returns a list of the values in a map:</p>

<div class="code-block">
  <p class="codeblock-title">keySet method</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="sc">'h'</code><code class="o">:</code> <code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">he</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
        
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">keySet</code><code class="p">()</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">values</code><code class="p">()</code>
</pre></div>

  <hr /></div>

<p>The <code>containsKey()</code> and <code>containsValue()</code> methods are useful for checking on map contents:</p>

<div class="code-block">
  <p class="codeblock-title">Checking for keys and values</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="sc">'h'</code><code class="o">:</code> <code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">he</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">]</code>
        
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">containsKey</code><code class="p">(</code><code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="p">)</code>
<code class="n">println</code> <code class="n">periodic</code><code class="p">.</code><code class="n">containsValue</code><code class="p">(</code><code class="err">'</code><code class="n">carbon</code><code class="err">'</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<p>The <code>asImmutable()</code> method works for maps in the same manner as it does for lists:</p>

<div class="code-block">
  <p class="codeblock-title">Don’t go changing</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">periodic</code> <code class="o">=</code> <code class="p">[</code><code class="sc">'h'</code><code class="o">:</code> <code class="err">'</code><code class="n">hydrogen</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">he</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">helium</code><code class="err">'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">li</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">lithium</code><code class="err">'</code><code class="p">].</code><code class="n">asImmutable</code><code class="p">()</code>

<code class="c1">//This will cause an exception:  </code>
<code class="n">periodic</code><code class="p">.</code><code class="n">x</code> <code class="o">=</code> <code class="err">'</code><code class="n">new</code> <code class="n">element</code><code class="err">'</code>
</pre></div>

  <hr /></div>
</div>
</body>
</html>
