<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>32. Collection operators</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div id="leanpub-toc">
<h2></h2>
<ol class="toc has-parts">
<ul class='toc has-parts'>
  <li>
    <ul>
      <li>
        <a href='chap00.html#leanpub-auto-introduction'>Introduction</a>
      </li>
      <li>
        <a href='chap01.html#leanpub-auto-legal-notices'>Legal Notices</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-getting-started'><span class="section-number">I </span>Getting started</a>
    <ul>
      <li>
        <a href='chap03.html#leanpub-auto-installing-groovy'><span class="section-number">1. </span>Installing Groovy</a>
      </li>
      <li>
        <a href='chap04.html#leanpub-auto-your-first-lines-of-groovy'><span class="section-number">2. </span>Your first lines of Groovy</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-comments'><span class="section-number">3. </span>Comments</a>
      </li>
      <li>
        <a href='chap06.html#leanpub-auto-statements'><span class="section-number">4. </span>Statements</a>
      </li>
      <li>
        <a href='chap07.html#leanpub-auto-the-assert-statement'><span class="section-number">5. </span>The <code>assert</code> statement</a>
      </li>
      <li>
        <a href='chap08.html#leanpub-auto-reserved-words'><span class="section-number">6. </span>Reserved Words</a>
      </li>
      <li>
        <a href='chap09.html#leanpub-auto-packages'><span class="section-number">7. </span>Packages</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-variables'><span class="section-number">II </span>Variables</a>
    <ul>
      <li>
        <a href='chap11.html#leanpub-auto-declaring-variables'><span class="section-number">8. </span>Declaring Variables</a>
      </li>
      <li>
        <a href='chap12.html#leanpub-auto-data-types'><span class="section-number">9. </span>Data Types</a>
      </li>
      <li>
        <a href='chap13.html#leanpub-auto-objects'><span class="section-number">10. </span>Objects</a>
      </li>
      <li>
        <a href='chap14.html#leanpub-auto-booleans'><span class="section-number">11. </span>Booleans</a>
      </li>
      <li>
        <a href='chap15.html#leanpub-auto-numbers'><span class="section-number">12. </span>Numbers</a>
      </li>
      <li>
        <a href='chap16.html#leanpub-auto-strings'><span class="section-number">13. </span>Strings</a>
      </li>
      <li>
        <a href='chap17.html#leanpub-auto-collections'><span class="section-number">14. </span>Collections</a>
      </li>
      <li>
        <a href='chap18.html#leanpub-auto-arrays'><span class="section-number">15. </span>Arrays</a>
      </li>
      <li>
        <a href='chap19.html#leanpub-auto-ranges'><span class="section-number">16. </span>Ranges</a>
      </li>
      <li>
        <a href='chap20.html#leanpub-auto-regular-expressions'><span class="section-number">17. </span>Regular Expressions</a>
      </li>
      <li>
        <a href='chap21.html#leanpub-auto-data-types-1'><span class="section-number">18. </span>Data types</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap22.html#leanpub-auto-operators'><span class="section-number">III </span>Operators</a>
    <ul>
      <li>
        <a href='chap23.html#leanpub-auto-operators-1'><span class="section-number">19. </span>Operators</a>
      </li>
      <li>
        <a href='chap24.html#leanpub-auto-numeric-operators'><span class="section-number">20. </span>Numeric Operators</a>
      </li>
      <li>
        <a href='chap25.html#leanpub-auto-simple-assignment-operator'><span class="section-number">21. </span>Simple Assignment Operator</a>
      </li>
      <li>
        <a href='chap26.html#leanpub-auto-the-complement-operator'><span class="section-number">22. </span>The Complement Operator</a>
      </li>
      <li>
        <a href='chap27.html#leanpub-auto-equality-operators'><span class="section-number">23. </span>Equality Operators</a>
      </li>
      <li>
        <a href='chap28.html#leanpub-auto-arithmetic-operators'><span class="section-number">24. </span>Arithmetic operators</a>
      </li>
      <li>
        <a href='chap29.html#leanpub-auto-relational-operators'><span class="section-number">25. </span>Relational Operators</a>
      </li>
      <li>
        <a href='chap30.html#leanpub-auto-increment-and-decrement-operators'><span class="section-number">26. </span>Increment and Decrement Operators</a>
      </li>
      <li>
        <a href='chap31.html#leanpub-auto-conditional-operators'><span class="section-number">27. </span>Conditional Operators</a>
      </li>
      <li>
        <a href='chap32.html#leanpub-auto-bitwise-operators'><span class="section-number">28. </span>Bitwise Operators</a>
      </li>
      <li>
        <a href='chap33.html#leanpub-auto-compound-assignment-operators'><span class="section-number">29. </span>Compound Assignment Operators</a>
      </li>
      <li>
        <a href='chap34.html#leanpub-auto-string-operators-1'><span class="section-number">30. </span>String Operators</a>
      </li>
      <li>
        <a href='chap35.html#leanpub-auto-regular-expression-operators-1'><span class="section-number">31. </span>Regular Expression Operators</a>
      </li>
      <li>
        <a href='chap36.html#leanpub-auto-collection-operators-1'><span class="section-number">32. </span>Collection operators</a>
      </li>
      <li>
        <a href='chap37.html#leanpub-auto-object-operators-1'><span class="section-number">33. </span>Object Operators</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap38.html#leanpub-auto-control-flow-statements'><span class="section-number">IV </span>Control Flow Statements</a>
    <ul>
      <li>
        <a href='chap39.html#leanpub-auto-introduction-1'><span class="section-number">34. </span>Introduction</a>
      </li>
      <li>
        <a href='chap40.html#leanpub-auto-blocks'><span class="section-number">35. </span>Blocks</a>
      </li>
      <li>
        <a href='chap41.html#leanpub-auto-the-if-statement'><span class="section-number">36. </span>The <code>if</code> Statement</a>
      </li>
      <li>
        <a href='chap42.html#leanpub-auto-the-switch-statement'><span class="section-number">37. </span>The <code>switch</code> Statement</a>
      </li>
      <li>
        <a href='chap43.html#leanpub-auto-the-for-loop'><span class="section-number">38. </span>The <code>for</code> Loop</a>
      </li>
      <li>
        <a href='chap44.html#leanpub-auto-the-while-loop'><span class="section-number">39. </span>The <code>while</code> loop</a>
      </li>
      <li>
        <a href='chap45.html#leanpub-auto-branching-statements'><span class="section-number">40. </span>Branching statements</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap46.html#leanpub-auto-exceptions'><span class="section-number">V </span>Exceptions</a>
    <ul>
      <li>
        <a href='chap47.html#leanpub-auto-the-throwable-family'><span class="section-number">41. </span>The Throwable Family</a>
      </li>
      <li>
        <a href='chap48.html#leanpub-auto-common-exceptions'><span class="section-number">42. </span>Common Exceptions</a>
      </li>
      <li>
        <a href='chap49.html#leanpub-auto-anatomy-of-an-exception'><span class="section-number">43. </span>Anatomy of an Exception</a>
      </li>
      <li>
        <a href='chap50.html#leanpub-auto-try-catch-finally'><span class="section-number">44. </span>Try-Catch-Finally</a>
      </li>
      <li>
        <a href='chap51.html#leanpub-auto-how-much-should-we-try'><span class="section-number">45. </span>How Much Should We try?</a>
      </li>
      <li>
        <a href='chap52.html#leanpub-auto-causing-an-exception'><span class="section-number">46. </span>Causing an Exception</a>
      </li>
      <li>
        <a href='chap53.html#leanpub-auto-catching-errors'><span class="section-number">47. </span>Catching Errors</a>
      </li>
      <li>
        <a href='chap54.html#leanpub-auto-methods-and-exceptions'><span class="section-number">48. </span>Methods and Exceptions</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap55.html#leanpub-auto-methods'><span class="section-number">VI </span>Methods</a>
    <ul>
      <li>
        <a href='chap56.html#leanpub-auto-the-basics'><span class="section-number">49. </span>The Basics</a>
      </li>
      <li>
        <a href='chap57.html#leanpub-auto-parameters'><span class="section-number">50. </span>Parameters</a>
      </li>
      <li>
        <a href='chap58.html#leanpub-auto-default-values-for-parameters'><span class="section-number">51. </span>Default Values for Parameters</a>
      </li>
      <li>
        <a href='chap59.html#leanpub-auto-named-arguments'><span class="section-number">52. </span>Named Arguments</a>
      </li>
      <li>
        <a href='chap60.html#leanpub-auto-variable-arguments-varargs'><span class="section-number">53. </span>Variable Arguments (Varargs)</a>
      </li>
      <li>
        <a href='chap61.html#leanpub-auto-return-value'><span class="section-number">54. </span>Return value</a>
      </li>
      <li>
        <a href='chap62.html#leanpub-auto-throwing-an-exception'><span class="section-number">55. </span>Throwing an exception</a>
      </li>
      <li>
        <a href='chap63.html#leanpub-auto-documenting-a-method'><span class="section-number">56. </span>Documenting a method</a>
      </li>
      <li>
        <a href='chap64.html#leanpub-auto-techniques'><span class="section-number">57. </span>Techniques</a>
      </li>
      <li>
        <a href='chap65.html#leanpub-auto-colophon'>Colophon</a>
      </li>
    </ul>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main">
<h2 id="leanpub-auto-collection-operators-1"><span class="section-number">32. </span>Collection operators</h2>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Working with Lists and Maps is made easier with these handy operators.</p>

    </td>
  </tr>
  </tbody>
</table><p>A number of operators are provided for working with Lists and Maps. Some overload operators such as <code>+</code> and <code>&lt;&lt;</code> whilst others (such as <code>in</code>) are more collection-oriented. Certain operators work with both Lists and Maps whilst others apply to only one.</p>

<table>
  <thead>
    <tr><th style="text-align: center">Operator(s)</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr><td style="text-align: center"><code>in</code></td>
      <td style="text-align: left">Membership Operator</td>
    </tr>
    <tr><td style="text-align: center"><code>&lt;&lt;</code></td>
      <td style="text-align: left">Append operator</td>
    </tr>
    <tr><td style="text-align: center"><code>+</code></td>
      <td style="text-align: left">Addition operator</td>
    </tr>
    <tr><td style="text-align: center"><code>-</code></td>
      <td style="text-align: left">Subtraction operator</td>
    </tr>
    <tr><td style="text-align: center"><code>+=</code> <code>-=</code></td>
      <td style="text-align: left">Compound assignment operators</td>
    </tr>
    <tr><td style="text-align: center"><code>*</code></td>
      <td style="text-align: left">Spread Operator</td>
    </tr>
    <tr><td style="text-align: center"><code>*.</code></td>
      <td style="text-align: left">Spread-Dot Operator</td>
    </tr>
    <tr><td style="text-align: center"><code>..</code></td>
      <td style="text-align: left">Range Operator</td>
    </tr>
    <tr><td style="text-align: center"><code>[]</code></td>
      <td style="text-align: left">Subscript Operator</td>
    </tr>
  </tbody>
</table><p>This chapter won’t discuss the following operators as they’ve been described earlier:</p>

<ul><li>The Range operator creates a list of sequential values and is usually seen with numbers. This is how we created Ranges in the tutorial on Variables.</li>
  <li>The Subscript operator is used to access items in a List or a Map and this was also discussed in the tutorial on Variables.</li>
</ul><p>To finish this chapter off I’ll do a little bit of mucking around with set theory.</p>

<h3 id="leanpub-auto-membership-operator-lists-and-maps">Membership Operator (Lists and Maps)</h3>

<p>The <code>in</code> operator is used to determine if an item is “in” a list or is a key in a map.</p>

<div class="code-block">
  <p class="codeblock-title">Using the <code>in</code> operator</p>

  <hr /><div class="highlight"><pre><code class="n">assert</code> <code class="mi">6</code> <code class="n">in</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">9</code><code class="p">]</code>
<code class="n">assert</code> <code class="o">!</code><code class="p">(</code><code class="mi">3</code> <code class="n">in</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">9</code><code class="p">])</code>

<code class="n">def</code> <code class="n">grades</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">].</code><code class="n">asImmutable</code><code class="p">()</code>

<code class="n">assert</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code> <code class="n">in</code> <code class="n">grades</code>
<code class="n">assert</code> <code class="o">!</code><code class="p">(</code><code class="err">'</code><code class="n">French</code><code class="err">'</code> <code class="n">in</code> <code class="n">grades</code><code class="p">)</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-append-lists-and-maps">Append (Lists and Maps)</h3>

<p>The <code>&lt;&lt;</code> operator adds a new element to an existing list:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">friends</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">]</code>
<code class="n">friends</code> <code class="o">&lt;&lt;</code> <code class="err">'</code><code class="n">Jane</code><code class="err">'</code>
<code class="n">println</code> <code class="n">friends</code>
</pre></div>

</div>

<p>It’s important to note that appending a list to a list will add a new element that contains the list in the right-hand operand:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">friends</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">]</code>
<code class="n">friends</code> <code class="o">&lt;&lt;</code> <code class="p">[</code><code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Greg</code><code class="err">'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">friends</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">,</code> <code class="p">[</code><code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Greg</code><code class="err">'</code><code class="p">]]</code>
</pre></div>

</div>

<p>In order to add the individual items of one list to another I need to use the <code>addAll()</code> method:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">friends</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">]</code>
<code class="n">friends</code><code class="p">.</code><code class="n">addAll</code><code class="p">([</code><code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Greg</code><code class="err">'</code><code class="p">])</code>
<code class="n">assert</code> <code class="n">friends</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Greg</code><code class="err">'</code><code class="p">]</code>
</pre></div>

</div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <p>Also check out the Spread operator</p>

    </td>
  </tr>
  </tbody>
</table><p>I can also use <code>&lt;&lt;</code> to append a new key:value pair to a map:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">grades</code> <code class="o">=</code> <code class="p">[</code><code class="o">:</code><code class="p">]</code>
<code class="n">grades</code> <code class="o">&lt;&lt;</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">]</code>
<code class="n">grades</code> <code class="o">&lt;&lt;</code> <code class="p">[</code><code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">]</code>
<code class="n">grades</code> <code class="o">&lt;&lt;</code> <code class="p">[</code><code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">]</code>
<code class="n">println</code> <code class="n">grades</code>
</pre></div>

</div>

<p>If I was to add another line <code>grades &lt;&lt; ['Science': 'F']</code> to the code above, the value for <code>Science</code> would be changed to <code>F</code> as the map’s keys are unique.</p>

<h3 id="leanpub-auto-addition-lists-and-maps">Addition (Lists and Maps)</h3>

<p>The addition operator (<code>+</code>) returns a <strong><em>new</em></strong> list with the right-hand operand added:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">friends</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">friends</code> <code class="o">+</code> <code class="err">'</code><code class="n">Jane</code><code class="err">'</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">]</code>
</pre></div>

</div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <p>This is different to the append operation as the addition results in a new list whereas append adds to the existing list - we’ll look into this when we get to compound assignment operators</p>

    </td>
  </tr>
  </tbody>
</table><p>When we add two lists together we get a union of the two lists returned:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">friends</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">friends</code> <code class="o">+</code> <code class="p">[</code><code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Greg</code><code class="err">'</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Greg</code><code class="err">'</code><code class="p">]</code>
</pre></div>

</div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <p>This is different to the <code>addAll()</code> method as a new list is returned rather than the items being added to the existing list.</p>

    </td>
  </tr>
  </tbody>
</table><p>Adding to a Set returns a set with the union sans any duplicates:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">set</code> <code class="o">=</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code> <code class="n">as</code> <code class="n">Set</code>
<code class="n">assert</code> <code class="k">union</code> <code class="o">+</code> <code class="p">[</code><code class="mi">8</code><code class="p">,</code> <code class="mi">10</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">10</code><code class="p">]</code> <code class="n">as</code> <code class="n">Set</code>
</pre></div>

</div>

<p>The addition operator will either add a key:value pair to a map or alter the value held against an existing key. In the example below I create a new map item with a result for my French class and then change an existing map item with a reduced English score:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">grades</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">]</code>

<code class="n">assert</code> <code class="n">grades</code> <code class="o">+</code> <code class="p">[</code><code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code> <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code>\
<code class="p">,</code> <code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">grades</code> <code class="o">+</code> <code class="p">[</code><code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'D'</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code> <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'D'</code><code class="p">,</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">B</code>\
<code class="err">'</code><code class="p">]</code>
</pre></div>

</div>

<h3 id="leanpub-auto-subtraction-lists-and-maps">Subtraction (Lists and Maps)</h3>

<p>The subtraction (<code>-</code>) operator will return a <strong><em>new</em></strong> list with an element removed <em>if</em> the list contains the element:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">assert</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code> <code class="o">-</code> <code class="mi">6</code> <code class="o">==</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code>
</pre></div>

</div>

<p>A list can also be subtracted from a list, returning a new list containing items in the left-hand operand (<code>[2, 4, 6, 8]</code>) that are not in the right-hand operand (<code>[2, 6, 12]</code>):</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">assert</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code> <code class="o">-</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">12</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code>
</pre></div>

</div>

<p>In the example below my attempt to remove <code>Gary</code> doesn’t do anything as he’s not in the list (this doesn’t cause an exception) but I do succeed in un-friending <code>Frank</code>:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">friends</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">friends</code> <code class="o">-</code> <code class="err">'</code><code class="n">Gary</code><code class="err">'</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Frank</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">friends</code> <code class="o">-</code> <code class="err">'</code><code class="n">Frank</code><code class="err">'</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Larry</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">Jane</code><code class="err">'</code><code class="p">]</code>
</pre></div>

</div>

<p>When subtraction is applied to a Map the right-hand operand needs to be a key:value pair. In the example below I attempt 3 things:</p>

<ol class="numeric"><li>I attempt to remove <code>['English': 'D']</code> but it’s not in <code>grades</code> so nothing happens</li>
  <li>I attempt to remove <code>['French': 'F']</code> but it’s not in <code>grades</code> so nothing happens</li>
  <li>I attempt to remove <code>['English': 'C']</code> and <strong>it is</strong> in <code>grades</code> so the removal occurs.</li>
</ol><div class="code-block">
  <p class="codeblock-title">Subtracting from a map</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">grades</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">]</code>

<code class="n">assert</code> <code class="n">grades</code> <code class="o">-</code> <code class="p">[</code><code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'D'</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code> <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">B</code>\
<code class="err">'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">grades</code> <code class="o">-</code> <code class="p">[</code><code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code> <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">grades</code> <code class="o">-</code> <code class="p">[</code><code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">]</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-compound-assignment-operators-lists-and-maps">Compound Assignment Operators (Lists and Maps)</h3>

<p>Just as we saw with numbers, the addition and subtraction operators returns a value but don’t actually change the variable involved in the operation. To change the value of <code>grades</code> I would have needed to assign the resultant back into the variable as follows:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">grades</code> <code class="o">=</code> <code class="n">grades</code> <code class="o">+</code> <code class="p">[</code><code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code> 
<code class="n">assert</code> <code class="n">grades</code>  <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code> <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">,</code> <code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code>
</pre></div>

</div>

<p>If we want to use the <code>grades</code> variable as the left-hand operand and change its value we can use the compound assignment operators. This means I could also have written the previous example using the <code>+=</code> compound assignment:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">grades</code> <code class="o">+=</code> <code class="p">[</code><code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code> 
<code class="n">assert</code> <code class="n">grades</code>  <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code> <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">,</code> <code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code>
</pre></div>

</div>

<p>Using the append operator in its compound form (<code>&lt;&lt;=</code>) is redundant.</p>

<h4 id="leanpub-auto-immutability-and-assignment">Immutability and Assignment</h4>

<p>Consider the following code and see if you’re surprised:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">grades</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">].</code><code class="n">asImmutable</code><code class="p">()</code>

<code class="n">grades</code> <code class="o">+=</code> <code class="p">[</code><code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code> 
<code class="n">assert</code> <code class="n">grades</code>  <code class="o">==</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code> <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code> <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">,</code> <code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code>
</pre></div>

</div>

<p>Groovy let me change something that’s immutable! I should go to the mailing list and report this! The outrage!</p>

<p>Hang on! What <code>asImmutable()</code> does is set the elements of the list to be unchangeable but it doesn’t make the <code>grades</code> variable immutable. As the <code>+</code> operator actually returns a new list value, Groovy is correct in assigning that new value to <code>grades</code>. </p>

<p>If I’d used <code>grades &lt;&lt; ['French': 'F']</code> instead of grades += [‘French’: ‘F’] I would get a <code>java.lang.UnsupportedOperationException</code> as I’m actually trying to add a new element to <code>grades</code>.</p>

<p>If I really want to make <code>grades</code> completely immutable (constant) then I’d need to use the <code>final</code> modifier and declare <code>grades</code> within a class. The code below demonstrates how I’d set up the class and ensure that attempts to change <code>grades</code> cause an exception:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">class</code> <code class="n">Report</code> <code class="p">{</code>
    <code class="n">final</code> <code class="n">grades</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">Maths</code><code class="err">'</code><code class="o">:</code> <code class="sc">'A'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">English</code><code class="err">'</code><code class="o">:</code> <code class="sc">'C'</code><code class="p">,</code>
        <code class="err">'</code><code class="n">Science</code><code class="err">'</code><code class="o">:</code> <code class="sc">'B'</code><code class="p">].</code><code class="n">asImmutable</code><code class="p">()</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">myReport</code> <code class="o">=</code> <code class="n">new</code> <code class="n">Report</code><code class="p">()</code>
<code class="n">myReport</code><code class="p">.</code><code class="n">grades</code> <code class="o">+=</code> <code class="p">[</code><code class="err">'</code><code class="n">French</code><code class="err">'</code><code class="o">:</code> <code class="sc">'F'</code><code class="p">]</code> 
</pre></div>

</div>

<p>Running the code above will earn you a <code>groovy.lang.ReadOnlyPropertyException</code>.</p>

<h3 id="leanpub-auto-spread-operator-lists">Spread Operator (Lists)</h3>

<p>The Spread operator extracts each element in the List into another list or a method’s parameters. This is helpful when you need to include a list’s individual items in another list or when your list can be used as parameters in a method call.</p>

<h4 id="leanpub-auto-extracting-into-lists">Extracting Into Lists</h4>

<p>In the first example, one lists’s items are extracted into another list:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">list</code> <code class="o">=</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">9</code><code class="p">]</code>
<code class="n">def</code> <code class="n">list2</code> <code class="o">=</code> <code class="p">[</code><code class="o">*</code><code class="n">list</code><code class="p">,</code> <code class="mi">12</code><code class="p">,</code> <code class="mi">34</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">list2</code> <code class="o">==</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">9</code><code class="p">,</code> <code class="mi">12</code><code class="p">,</code> <code class="mi">34</code><code class="p">]</code>
</pre></div>

</div>

<p>This usage looks rather like the <code>addAll()</code> method but you may need to be mindful as to the position in which the list is extracted. The example below uses <code>addAll()</code> but results in <code>list2</code> being ordered differently than in the previous example:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">list</code> <code class="o">=</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">9</code><code class="p">]</code>
<code class="n">def</code> <code class="n">list2</code> <code class="o">=</code> <code class="p">[</code><code class="mi">12</code><code class="p">,</code> <code class="mi">34</code><code class="p">]</code>
<code class="n">list2</code><code class="p">.</code><code class="n">addAll</code><code class="p">(</code><code class="n">list</code><code class="p">)</code>
<code class="n">assert</code> <code class="n">list2</code> <code class="o">==</code> <code class="p">[</code><code class="mi">12</code><code class="p">,</code> <code class="mi">34</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">9</code><code class="p">]</code>
</pre></div>

</div>

<p>In this last example I demonstrate an easy approach to creating a union of the two lists:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">list</code> <code class="o">=</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">9</code><code class="p">]</code>
<code class="n">def</code> <code class="n">list2</code> <code class="o">=</code> <code class="p">[</code><code class="mi">12</code><code class="p">,</code> <code class="mi">34</code><code class="p">]</code>
<code class="n">assert</code> <code class="p">[</code><code class="o">*</code><code class="n">list</code><code class="p">,</code> <code class="o">*</code><code class="n">list2</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">9</code><code class="p">,</code> <code class="mi">12</code><code class="p">,</code> <code class="mi">34</code><code class="p">]</code>
</pre></div>

</div>

<h4 id="leanpub-auto-extracting-as-parameters">Extracting as Parameters</h4>

<p>In the next example I extract the items in the <code>score</code> list out, each aligning with the parameters in the </p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="nf">mean</code><code class="p">(</code><code class="n">num1</code><code class="p">,</code> <code class="n">num2</code><code class="p">,</code> <code class="n">num3</code><code class="p">)</code> <code class="p">{</code>
  <code class="p">(</code><code class="n">num1</code> <code class="o">+</code> <code class="n">num2</code> <code class="o">+</code> <code class="n">num3</code><code class="p">)</code> <code class="o">/</code> <code class="mi">3</code>
<code class="p">}</code>
<code class="n">def</code> <code class="n">scores</code> <code class="o">=</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">mean</code><code class="p">(</code><code class="o">*</code><code class="n">scores</code><code class="p">)</code> <code class="o">==</code> <code class="mi">5</code>
</pre></div>

</div>

<p>That last example is a little bit of a goldilocks moment - I have exactly the same number of items in the list as the method has parameters. I also have a pretty limited version of the <code>mean</code> method - it only works on 3 numbers. However, a method with a varargs parameter is a little less fairy tale:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="nf">mean</code><code class="p">(...</code><code class="n">nums</code><code class="p">)</code> <code class="p">{</code>
  <code class="n">def</code> <code class="n">total</code> <code class="o">=</code> <code class="mi">0</code>
  <code class="k">for</code> <code class="p">(</code><code class="n">item</code> <code class="n">in</code> <code class="n">nums</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">total</code> <code class="o">+=</code> <code class="n">item</code>
  <code class="p">}</code>
  <code class="k">return</code> <code class="n">total</code> <code class="o">/</code> <code class="n">nums</code><code class="p">.</code><code class="n">size</code><code class="p">()</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">scores</code> <code class="o">=</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code>
<code class="n">assert</code> <code class="n">mean</code><code class="p">(</code><code class="o">*</code><code class="n">scores</code><code class="p">)</code> <code class="o">==</code> <code class="mi">5</code>
</pre></div>

</div>

<p>One last example of using the spread operator:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="nf">buyGroceries</code><code class="p">(...</code><code class="n">items</code><code class="p">)</code> <code class="p">{</code>
    <code class="k">for</code> <code class="p">(</code><code class="n">item</code> <code class="n">in</code> <code class="n">items</code><code class="p">)</code> <code class="p">{</code>
        <code class="n">println</code> <code class="n">item</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="n">def</code> <code class="n">shoppingList</code> <code class="o">=</code> <code class="p">[</code><code class="err">'</code><code class="n">apples</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">cat</code> <code class="n">food</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">cream</code><code class="err">'</code><code class="p">]</code>
<code class="n">buyGroceries</code><code class="p">(</code><code class="o">*</code><code class="n">shoppingList</code><code class="p">)</code>
</pre></div>

</div>

<blockquote>
  <p>Realistically, the <code>items</code> parameter is a list but it proves the point. We’ll look into this type of method parameter in the tutorial on methods.</p>
</blockquote>

<h4 id="leanpub-auto-multiply-operator">Multiply Operator</h4>

<p>Note that you can use <code>*</code> as a form of multiplication involving lists but this doesn’t return a list containing each element multiplied by the right-hand operand. Rather, the returned list just contains the original list elements repeated by the number of times set by the right-hand operand. In the example below I get <code>2, 4, 6</code> repeated 4 times:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">list</code> <code class="o">=</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">]</code>
<code class="n">println</code> <code class="n">list</code> <code class="o">*</code> <code class="mi">4</code>
</pre></div>

</div>

<h3 id="leanpub-auto-spread-dot-operator-lists">Spread-Dot Operator (Lists)</h3>
<p>The <code>*.</code> operator calls an action (method) on each item in the list and returns a new list containing the results. In the example below I call the <code>reverse()</code> method on each list element:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">println</code><code class="p">([</code><code class="err">'</code><code class="n">carrot</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">cabbage</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">cauliflower</code><code class="err">'</code><code class="p">]</code><code class="o">*</code><code class="p">.</code><code class="n">reverse</code><code class="p">())</code>
</pre></div>

</div>

<p>The spread operator mimics the <code>collect()</code> method - with the previous example being equivalent to the following:</p>

<div class="code-block">
<div class="highlight"><pre><code class="cp">[</code><code class="s1">'carrot'</code><code class="p">,</code> <code class="s1">'cabbage'</code><code class="p">,</code> <code class="s1">'cauliflower'</code><code class="cp">]</code><code class="x">.collect{it?.reverse()}</code>
</pre></div>

</div>

<p>The spread operator makes the method call using the “Safe navigation Operator” (<code>?.</code>) to make sure that the list element isn’t null - refer to the Object Operators section for more information. In the next example I include a <code>null</code> in the list and the returned list features the <code>null</code>:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">println</code><code class="p">([</code><code class="err">'</code><code class="n">carrot</code><code class="err">'</code><code class="p">,</code> <code class="err">'</code><code class="n">cabbage</code><code class="err">'</code><code class="p">,</code> <code class="n">null</code><code class="p">,</code> <code class="err">'</code><code class="n">cauliflower</code><code class="err">'</code><code class="p">]</code><code class="o">*</code><code class="p">.</code><code class="n">reverse</code><code class="p">())</code>
</pre></div>

</div>

<p>For maps I can’t use <code>*.</code> so need to use the <code>collect()</code> method.</p>

<h3 id="leanpub-auto-a-little-set-theory">A Little Set Theory</h3>

<p>Writing this chapter got me thinking about <a href="https://en.wikipedia.org/wiki/Set_theory">set theory</a> and how various aspects can be achieved in Groovy lists.</p>

<h4 id="leanpub-auto-membership">Membership</h4>

<p>The <code>in</code> method gives us a membership check:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">assert</code> <code class="mi">4</code> <code class="n">in</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code>
</pre></div>

</div>

<h4 id="leanpub-auto-union">Union</h4>

<p>The addition operator provides us with the ability to performs unions:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">assert</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code> <code class="o">+</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">7</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">7</code><code class="p">]</code>
</pre></div>

</div>

<h4 id="leanpub-auto-complements">Complements</h4>

<p>The subtraction operator (<code>-</code>) gives us set complement (difference):</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">assert</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code> <code class="o">-</code> <code class="p">[</code><code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">10</code><code class="p">]</code> <code class="o">==</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">]</code>
</pre></div>

</div>

<h4 id="leanpub-auto-intersection">Intersection</h4>

<p>The <code>disjoint()</code> method will return <code>true</code> if two lists don’t contain any intersecting elements:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">assert</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">].</code><code class="n">disjoint</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">7</code><code class="p">])</code> <code class="o">==</code> <code class="nb">true</code>
</pre></div>

</div>

<p>If <code>disjoint()</code> returns <code>false</code> then some elements intersect.</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">list1</code> <code class="o">=</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code>
<code class="n">def</code> <code class="n">list2</code> <code class="o">=</code> <code class="p">[</code><code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">10</code><code class="p">]</code>

<code class="n">assert</code> <code class="p">([</code><code class="o">*</code><code class="n">list1</code><code class="p">,</code> <code class="o">*</code><code class="n">list2</code><code class="p">]</code> <code class="n">as</code> <code class="n">Set</code><code class="p">)</code> <code class="o">-</code> <code class="p">(</code><code class="n">list1</code> <code class="o">-</code> <code class="n">list2</code><code class="p">)</code> <code class="o">-</code> <code class="p">(</code><code class="n">list2</code> <code class="o">-</code> <code class="n">list1</code><code class="p">)</code> <code class="o">==</code> <code class="p">[</code><code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code> <code class="n">a</code>\
<code class="n">s</code> <code class="n">Set</code>
</pre></div>

</div>

<h4 id="leanpub-auto-guava-sets-library">Guava Sets Library</h4>

<p>All this got me thinking further and looking into Google’s Guava libraries - here’s some code that uses Guava to scratch my set itch:</p>

<div class="code-block">
  <p class="codeblock-title">Sip some guava</p>

  <hr /><div class="highlight"><pre><code class="nd">@Grab</code><code class="p">(</code><code class="n">group</code><code class="o">=</code><code class="s">'com.google.guava'</code><code class="p">,</code> <code class="n">module</code><code class="o">=</code><code class="s">'guava'</code><code class="p">,</code> <code class="n">version</code><code class="o">=</code><code class="s">'18.0'</code><code class="p">)</code>
<code class="kn">import</code> <code class="nn">static</code> <code class="nn">com.google.common.collect.Sets.</code><code class="o">*</code>

<code class="k">def</code> <code class="nf">list1</code> <code class="o">=</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">]</code> <code class="k">as</code> <code class="n">Set</code>
<code class="k">def</code> <code class="nf">list2</code> <code class="o">=</code> <code class="p">[</code><code class="mi">6</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">10</code><code class="p">]</code> <code class="k">as</code> <code class="n">Set</code>

<code class="n">println</code> <code class="s">"Intersection: "</code> <code class="o">&lt;&lt;</code> <code class="n">intersection</code><code class="p">(</code><code class="n">list1</code><code class="p">,</code> <code class="n">list2</code><code class="p">)</code>
<code class="n">println</code> <code class="s">"Union: "</code> <code class="o">&lt;&lt;</code> <code class="n">union</code><code class="p">(</code><code class="n">list1</code><code class="p">,</code> <code class="n">list2</code><code class="p">)</code>
<code class="n">println</code> <code class="s">"Difference (list1 - list2): "</code> <code class="o">&lt;&lt;</code> <code class="n">difference</code><code class="p">(</code><code class="n">list1</code><code class="p">,</code> <code class="n">list2</code><code class="p">)</code>
<code class="n">println</code> <code class="s">"Difference (list2 - list1): "</code> <code class="o">&lt;&lt;</code> <code class="n">difference</code><code class="p">(</code><code class="n">list2</code><code class="p">,</code> <code class="n">list1</code><code class="p">)</code>

<code class="n">println</code> <code class="s">"Cartesian product of list1 and list2"</code>
<code class="k">for</code> <code class="p">(</code><code class="nb">set</code> <code class="ow">in</code> <code class="n">cartesianProduct</code><code class="p">(</code><code class="n">list1</code><code class="p">,</code> <code class="n">list2</code><code class="p">))</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">" - $set"</code>
<code class="p">}</code>

<code class="n">println</code> <code class="s">"Powersets of list1: "</code> 
<code class="k">for</code> <code class="p">(</code><code class="nb">set</code> <code class="ow">in</code> <code class="n">powerSet</code><code class="p">(</code><code class="n">list1</code><code class="p">))</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">" - $set"</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>
</div>
</body>
</html>
